(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t,n){t=k(t);var r=[],i=[];return T(e,function(e){(t.call(n,e)?r:i).push(e)}),[r,i]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&typeof require!="undefined"&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(u):s.keys(i);while(r=e.shift()){o=i[r],delete i[r];if(!o||!t&&!n)continue;a=o.tail;while((o=o.next)!==a)f=o.callback,l=o.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,o,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(u),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,o=[t].concat(f);while((r=r.next)!==s)r.callback.apply(r.context||this,o)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=C(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(a[i],o)||n.unset&&s.has(a,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=o,!s.isEqual(c[i],o)||s.has(a,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof f)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(c,function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,d=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new m),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(d,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},g=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,s.extend(m.prototype,a,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(g,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,u=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!m.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(g,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o(r).attr(t),n&&o(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=C(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(w),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=E.length;t<n;t++){var r=E[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=C(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var S=function(e,t){var n=N(this,e,t);return n.extend=this.extend,n};f.extend=l.extend=h.extend=b.extend=S;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=x[e];n||(n={});var u={type:r,dataType:"json"};return n.url||(u.url=C(t,"url")||k()),!n.data&&t&&(e=="create"||e=="update")&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),u.type!=="GET"&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var T=function(){},N=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},s.extend(r,e),T.prototype=e.prototype,r.prototype=new T,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},C=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},k=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(e){"use strict";var t=e.jQuery,n=e._,r=e.Backbone,i=n.sortedIndex,s=r.Events,o=r.View,u=o.prototype.remove,a="breakpoints",f=function(e,t,n){var r=i(n,e+1),s=i(n,t+1);return r!==s?n.slice(Math.min(r,s),Math.max(r,s)):[]},l=r.Resize={trigger:s.trigger,width:function(){return t(e).width()}};l[a]=[],n.each(["on","off","bind","unbind"],function(t){l[t]=function(r,i,o){s[t].call(this,r,i,o),this[a]=n.compact(n.map(n.keys(this._callbacks||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),r.View=o.extend({constructor:function(e){o.call(this,e),this[a]&&l.on(this[a],this.resize,this)},resize:function(){this.render()},remove:function(){return this[a]&&l.off(this[a],this.resize,this),u.call(this)}}),t(function(){var n=l.width();t(e).resize(function(){var e,t=l.width();t!==n&&(e=f(n,t,l[a]),e.length&&l.trigger(e.join(" "),t,n<t?"up":"down"),n=t)})})}(this),function(e){"use strict";var t=e.Spatula={},n=e.jQuery,r=e._,i=e.Backbone,s=r.isFunction,o=r.map,u=t.whenAll=function(e){return n.when.apply(n,e||[])},a=t.tryCall=function(e,t){var n=e&&e[t];if(s(n))return n.apply(e,r.rest(arguments,2))},f={},l={},c={model:!0,collection:!0},h=[],p=[],d=function(e,t,n){f[e]=t,l[e]=n};t.ContainerView=i.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,r=++t.mod,i=t.current,s=u();return t.current=e,i||t.$el.empty(),t.trigger("begin",e),i&&(i.hide&&(s=n.when(i.hide(),s)),s.done(function(){i.remove()})),s=u(o(this._cb,function(t){return t.call(this,e)}).concat([a(e,"load"),s])),s.fail(function(){var n=Array.prototype.slice.call(arguments);t.mod===r&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(n)))}),s=s.pipe(function(){if(t.mod===r)return e.render(),t.
$el.prepend(e.el),a(e,"ready"),t.trigger("ready",e),a(e,"show")}),s.pipe(function(){if(t.mod!==r)return n.Deferred().reject();t.$el.css("minHeight",""),t.trigger("end",e)})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return a(this.current,"render"),this},ready:function(){return a(this.current,"ready"),this}}),t.RichView=i.View.extend({assets:c,load:function(e,t){var n=this;return n._load||(n._load=u(o(n.assets,function(e,t){return f[t].call(n,e).done(function(){n.trigger("load:"+t)})})).done(function(){n.trigger("load")})),n._load.then(e,t)},render:function(){var e=this,t=e.load();return t.state()==="resolved"?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),r.each(e.assets,function(e,t){a(l,t,e)}),i.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:d}),d("scripts",function(e){return e=r.difference(e,h),u(o(e,function(e){return h.push(e),n.ajax(e,{dataType:"script",cache:!0,error:function(){h=r.without(h,e)}})}))}),n(function(){h=r.union(h,n("script[src]").not("[async]").map(function(){return n(this).attr("src")}).get())}),d("styles",function(e){return u(o(e,function(e){n("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){n("link.css-"+this.cid).remove()}),d("templates",function(e,t){return t||(t=this.templates={}),u(o(e,function(e,r){return n.ajax(e,{cache:!0,success:function(e){t[r]=e}})}))}),d("data",function(e){var t=this;return n.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),r.each(c,function(e,t){d(t,function(e){return e=s(e.fetch)?e:this[t],a(e,"fetch")||u()})}),t.start=function(s){var o=i.history,u=/^([^\/]+?:\/\/[^\/]+?)(\/[^?#]*)/.exec(e.location.href),a;s=r.extend({pushState:!0,hashChange:!1},s),u&&o.start(s)&&(u=u[1]+o.options.root,a=u.length,n("body").on("click.spatula","a[href]",function(e){var n=this.href;!e.metaKey&&!e.ctrlKey&&!e.isDefaultPrevented()&&n&&n.substr(0,a)===u&&(n=n.substr(a),t.test(n)&&r.any(o.handlers,function(t){if(t.route.test(n))return e.preventDefault(),o.navigate(n,!0),!0}))}))},t.test=function(e){return!r.any(p,function(t){return t.test(e)})},t.exclude=function(e){r.isRegExp(e)||(e=i.Router.prototype._routeToRegExp.call({},e)),p.push(e)}}(this),function(e){"use strict";var t=e.Disney,n=e.Spatula,r=e.jQuery,i=e._,s=e.Backbone,o=s.sync,u=/^\/(?:[^\/]|$)/,a=t.ajaxBase;r(function(){var s=t.redirect,o=t.top=new n.ContainerView({el:"#main"});o.on("ready",function(t){var n=t.title;r.isFunction(n)&&(n=n.call(t)),n&&(e.document.title=n)}),s&&o.loader(s.loader);if(r("#error_page").length)return;i.defer(n.start)}),r.ajaxSetup({timeout:2e4}),a&&(s.sync=function(e,t,n){var r=n.url||t&&t.url;return u.exec(r)&&(n=i.extend({url:a+r.substr(1)},n)),o(e,t,n)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,n){var r=e.document.body||e.document.documentElement,i=r.style,s=["Webkit","Moz","ms","O"];if(i[t]!==undefined)return n?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var o=0;o<s.length;o++)if(i[s[o]+t]!==undefined)return n?s[o]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,n=e.document.createElement("fakeelement"),r={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in r)if(n.style[t]!==undefined)return r[t]}}(this,jQuery),function(e){"use strict";var t=e.console,n=e.Grill={},r=e.Spatula,i=e.jQuery,s=e._,o=e.Backbone,u=r.whenAll,a=o.Model,f=o.Collection,l=o.View,c=r.tryCall,h,p=function(n){var r=e.onerror;t&&t.error&&t.error(n.stack||n.toString()),r&&r(n.toString())},d=function(e,t){try{return c(e,t)}catch(n){p(n)}},v=function(e){return s.map(this.views,function(t){return d(t,e)})},m=i.support.css3("transition")?function(t){var n=i.Deferred(),r=i(e).selectTransitionEnd()+".grill";return i(".overlay",t).on(r,function(e){this===e.target&&(n.resolve(),t.off(r))}),n}:function(){return!0},g=n.Module=a.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new f(e)}}),y=n.Burger=f.extend({model:g,fetch:function(e){var t=n.burger,r=e&&e.success;return t?(delete n.burger,this.reset(this.parse(t)),r&&r(this,t),i.when()):f.prototype.fetch.call(this,e)},parse:function(e){for(var t in e)t in y.prototype||(this[t]=e[t]);return this.trigger("parse",e),e.stack}}),b=l.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(i(this.template.render(this.model))),e.replaceWith(this.$el)}}),w=n.ListView=l.extend({tagName:"ul",initialize:function(e){var t=this,n=t.collection;t.template=e.template,t.reset(),n.on("add",function(e,n){var r=n.indexOf(e),i=t.spawn(e);t.views.splice(r,0,i),r===0?t.$el.prepend(i.el):t.views[r-1].$el.after(i.el)}),n.on("remove",function(e,n,r){t.views.splice(r.index,1)[0].remove()}),n.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&s.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var n=e.spawn(t);return e.$el.append(n.el),n}),e},spawn:function(e){return new b({model:e,template:this.template})}}),E={},S=n.ModuleView=r.RichView.extend({assets:{},tagName:"section",className:"module",safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))}},{register:function(e,t,n){return E[e]=this.extend(t,n)},create:function(e,t){var n=E[e]||this,r=new n(t);return r.$el.addClass(e).attr("data-module",e),r}}),x=w.prototype,T=n.BurgerView=w.extend({id:"burger",tagName:"article",className:"hidden",subview:S,initialize:function(e){x.initialize.call(this,e),i("<div/>",{"class":"overlay"}).appendTo(this.el)},load:function(){var e=this;return this.collection.fetch().pipe(function(){return u(v.call(e,"load"))})},spawn:function(e){return S.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){v.call(this,"render")},ready:function(){u(v.call(this,"ready"))},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),u([m(this.$el)].concat(v.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),u([m(this.$el)].concat(v.call(this,"hide"))))},remove:function(){v.call(this,"remove"),x.remove.call(this)}});n.BunView=S.extend({className:"module_container",tagName:"div"}),h={model:y,view:T},n.config=function(e){s.extend(h,e)},n.order=function(e){var t=h.model,n=h.view,r=new t;r.url=e,h.container.transition(new n({collection:r}))}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e._,i;t.DL=function(e){i=e},new(e.Backbone.Router.extend({routes:{"*p":"a"},a:function(t){var s=e.window.location.pathname;t&&t==="?register=1"&&s==="/"&&i.login();var o="/_grill/json/";t&&(o+=t),e.Grill.order(o),r.defer(function(){n("html,body").scrollTop(0)})}}))}(this),function(e){"use strict";var t=e.Disney,n=t.Cookie,r=e.Backbone,i=e._,s=/^([0-9a-f]+):([^:]+)/,o="dolMttAbn",u=7,a=function(){var e=s.exec(n.get(o)||"");return e&&{id:e[1],group:e[2]}},f=function(e){n.set(o,e.id+":"+e.group,{domain:n.domain(),path:"/",expires:u})},l=t.abn=i.extend({testcase:function(){return a()},parse:function(e){var r=e.abn,s=r&&r.cases,o=a(),u,f,l=-1;return s&&(f=i.pluck(s,"weight"),u=i.keys(s),n.enabled()&&(!o||o.id===r.id)&&(o?l=i.indexOf(u,o.group):(l=t.randi(f),l>=0&&(o={id:r.id,group:u[l]}))),e=s[u[l<0?0:l]].data,l>=0&&this.trigger("view",o,e)),e}},r.Events);l.on("view",f),t.randi=function(t){var n=0,r,i,s=t.length;for(r=s-1;r>-1;--r)n+=+t[r]||0;i=e.Math.random()*n;for(r=s-1;i>=0&&r>-2;--r)i-=+t[r]||0;return r+1}}(this),function(e){"use strict";var t=e.jQuery,n=e._,r=e.Backbone,i=e.Math,s=r.Collection,o=function(e,t){var n=new Array(e),r;if(t!==n[0])for(r=0;r<e;++r)n[r]=t;return n},u=function(e){return{models:e}};r.LazyCollection=s.extend({params:{limit:"limit",offset:"offset"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=n.defaults(t.params,this.params)),s.call(this,e,t)},ensure:function(e){var n=this,r=n.count,s=n.length,o=n._ensure,u=n.params,a=i.max(e-s,n.min),f,l;return r&&(e=i.min(e,r)),e<=s?l=t.when():o?(l=t.Deferred(),o.always(function(){n.ensure(e).then(function(){l.resolveWith(arguments)},function(){l.rejectWith(arguments)})})):(f={},f[u.limit]=a,f[u.offset]=s,n.trigger("loading",n,!0),l=n._ensure=n.fetch({add:!0,data:f}).then(function(){n.length<s+a&&(n.count=n.length)}).always(function(){n._ensure=null,n.trigger("loading",n,!1)})),l},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var r=[],s,a,f=t&&t.whole,l=t&&t.pad,c=t&&t.nest,h=t&&t.fill;e=+e||1;for(a=0;a<this.length;a+=e)r.push(this.models.slice(a,a+e));a=r.length-1,f&&a>0&&r[a].length<e&&(--a,r.pop()),l&&(a>=0&&(r[a]=r[a].concat(o(e-r[a].length,h))),s=o(e,h)),c&&(r=n.map(r,u),s=u(s));if(l){a=i.floor(this.count/e);while(r.length<a)r.push(s);a=this.count-a*e,a>0&&!f&&(s=o(a,h),r.push(c?u(s):s))}return r}})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e.Math,i=/%%([a-z0-9]+)%%/g,s=function(e,t){return t==="rng"?""+r.floor(r.random()*1e18):""},o=t.ping=function(t){if(t){var n=new e.Image;n.src=t.toString().replace(i,s)}};n("body").on("click","a[data-ping]",function(){o(this.getAttribute("data-ping"))})}(this),function(e){"use strict";var t=e.Grill,n=e.jQuery,r=e.Backbone,i=e.Disney,s=t.Burger,o=s.prototype,u=e.location,a=/[&?]draft_id=([^&]+)/.exec(u.search),f=/^\/_grill\/json(\/.*)/,l=t.Module.extend({data:function(e){var t=new r.LazyCollection(e,{model:i.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),s=this.collection.url,o;if(o=f.exec(s))s=o[1];var u=s.indexOf("?")>=0?"&":"?";return s="/_grill/more"+s+u+n.param({r:this.get("ref")}),a&&(s+="&draft_id="+a[1]),t.url=s,t},subject:function(){return this.data.first()}}),c=s.extend({model:l,parse:function(e){return o.parse.call(this,i.abn.parse(e))}});n(function(){var t=i.top;e.Grill.config({container:t,model:c})})}(this);var Hogan={};(function(e,t){"use strict";function a(e){return String(e===null||e===undefined?"":e)}function f(e){return e=a(e),u.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(s,"&#39;").replace(o,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r,this.c=r,this.options=i,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:f,t:a,render:function(t,n,r){return this.ri([t],n||{},r)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];return i?(this.c&&typeof i=="string"&&(i=this.c.compile(i,this.options)),i.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!l(r)&&(typeof r!="object"||!l(r=r.models))){n(e,t,this);return}for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop()},s:function(e,t,n,r,i,s,o){var u;return l(e)&&e.length===0?!1:(typeof e=="function"&&(e=this.ls(e,t,n,r,i,s,o)),u=e===""||!!e,!r&&u&&t&&t.push(typeof e=="object"?e:t[t.length-1]),u)},d:function(e,t,n,r){var i=e.split("."),s=this.f(i[0],t,n,r),o=null;if(e==="."&&l(t[t.length-2]))return t[t.length-1];for(var u=1;u<i.length;u++)s&&typeof s=="object"&&(i[u]in s||(s=s.attributes)&&typeof s=="object"&&i[u]in s)?(o=s,s=s[i[u]]):s="";return r&&!s?!1:(!r&&typeof s=="function"&&(t.push(o),s=this.lv(s,t,n),t.pop()),s)},f:function(e,t,n,r){var i=!1,s=null,o=!1;for(var u=t.length-1;u>=0;u--){s=t[u];if(s&&typeof s=="object"&&(e in s||(s=s.attributes)&&typeof s=="object"&&e in s)){i=s[e],o=!0;break}}return o?(!r&&typeof i=="function"&&(i=this.lv(i,t,n)),i):r?!1:""},ho:function(e,t,n,r,i){var s=this.c,o=this.options;return o.delimiters=i,r=e.call(t,r),r=r==null?String(r):r.toString(),this.b(s.compile(r,o).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,i,s,o){var u=t[t.length-1],a=null;if(!r&&this.c&&e.length>0)return this.ho(e,u,n,this.text.substring(i,s),o);a=e.call(u);if(typeof a=="function"){if(r)return!0;if(this.c)return this.ho(a,u,n,this.text.substring(i,s),o)}return a},lv:function(e,t,n){var r=t[t.length-1],i=e.call(r);if(typeof i=="function"){i=a(i.call(r));if(this.c&&~i.indexOf("{{"))return this.c.compile(i,this.options).render(r,n)}return a(i)}};var n=/&/g,r=/</g,i=/>/g,s=/\'/g,o=/\"/g,u=/[&<>\"\']/,l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),this.Whiskers||function(e){"use strict";var t=function(e,t){var n=this,r;e=e.split(".");while(e.length>1)r=e.shift(),n.hasOwnProperty(r)?n=n[r]:n=n[r]={};n[e[0]]=t},n=e.Whiskers=function(r,i){t.call(n,r,new e.Hogan.Template(i))}}(this),Whiskers("errors.e404",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<article id="error_page" class="e404 bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('" alt="404 Error"> <div class="message"> <h2>This page is not fully armed and operational.</h2> <h1>Try something else?</h1> </div> </div> </article>'),r.fl()}),Whiskers("errors.e500",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<article id="error_page" class="e500 bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('"> <div class="message"> <h2>It\'s a Trap! Or an internal server error.</h2> <h1>Try something else?</h1> </div> </div> </article>'),r.fl()}),Whiskers("errors.enet",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<article id="error_page" class="enet bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('" alt="General Error"> <div class="message"> <h2>I don\'t know what all this trouble is about, but I\'m sure it must be your fault.</h2> <h1>Try something else?</h1> </div> </div> </article>'),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.jQuery,i=e.Whiskers,s=["//a.dilcdn.com/sw/errors/e404-9df8b9256a80.jpg","//a.dilcdn.com/sw/errors/e500-741e8c36f9a3.jpg","//a.dilcdn.com/sw/errors/enet-f7daea807485.jpg"],o=n.View.extend({render:function(){this.el.innerHTML=this.template.render({image:this.image})}}),u=o.extend({image:s[0],template:i.errors.e404,error:"404"}),a=o.extend({image:s[1],template:i.errors.e500,error:"500"}),f=o.extend({image:s[2],template:i.errors.enet,error:"network"});r(function(){t.top.on("error",function(e,n,r,i){r==="timeout"?t.top.transition(new f):i==="Not Found"?t.top.transition(new u):r!=="abort"&&t.top.transition(new a)}),t.ajaxBase==="/"&&e.setTimeout(function(){for(var t=0;t<s.length;++t)(new e.Image).src=s[t];s=null},4e3)})}(this),function(e){"use strict";e.jQuery(function(){var t=e.Backbone.history,n=10;t.on("route",function(){--n<0&&(t._hasPushState=!1)})})}(this),this.Disney.Style=this.Disney.Style||{},this.Disney.Style.breakpoints={midLow:480,midHigh:768,max:1024,wideMax:1200},function(e){"use strict";var t=e.jQuery,n=e.Grill,r=n.BurgerView,i=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e};return n.ModuleView.create(e.get("view"),t)},cto:function(){var e=this.collection.cto;return e},url:function(){return this.collection.href}});t(function(){e.Grill.config({view:i})})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery;n(function(){t.top.on("ready",function(){var t=e.window.location.pathname.split("/")[1],r=t.replace(/[^a-zA-Z0-9]/g,""),i=n('nav a[href^="/'+t+'"]'),s=n("#nav-outer-container").data("section");n("nav a").removeClass("active"),i.addClass("active"),!s||n("#nav-outer-container").removeClass(s+"-content has-border"),!t||n("#nav-outer-container").data("section",r).addClass(r+"-content has-border")})})}(this),function(e){"use strict";var t=e.NAV=e.NAV||{};t.queue=t.queue||[],t.opts=t.opts||{};var n=e.NAV,r=e.document,i=r.documentElement,s=String.prototype.trim,o=Array.prototype.splice,u=Array.prototype.slice,a=e.encodeURIComponent,f=s||function(){return this.toString().replace(/^\s+|\s+$/g,"")},l=/^([^\/]+:)?\/\/([^\/]+)\//,c=/(?:^|.)([a-z0-9\-]+?(?:\.com?)?\.[a-z\-]+)$/,h=/(?:^|;)\s*SWID=([^;]+)/,p={},d={"go.com":"r.disney.","disney.com":"r."};e.NAV.load=function(t,n){var r=e.document,i=r.getElementsByTagName("script")[0],s=r.createElement("script");s.type="text/javascript",s.async="async",s.onload=s.onreadystatechange=function(e,t){var r=this,i=r.readyState,s=r.parentNode;s&&(t||!i||i==="complete"||i==="loaded")&&(s.removeChild(this),!t&&n&&n())},s.src=t,i.parentNode.insertBefore(s,i),s=r=i=null};var v=function(e){var t=e.apply?e:n[e[0]];t&&t.apply&&t.apply(n,e.slice?e.slice(1):[])};e.setTimeout(function(){var e=n.queue||[],t=0;for(;t<e.length;++t)v(e[t]);n.queue={push:v}},1),n.on=function(e,t,n){var r=p[e]||(p[e]=[]);return t&&r.push({f:t,c:n}),this},n.off=function(e,t,n){var r,i,s=0,o;if(!e)p={};else if(!t)delete p[e];else if(r=p[e]){i=p[e]=[];for(;s<r.length;++s)o=r[s],o.f===t&&(n?o.c===n:o.c===this)&&i.push(o)}return this},n.trigger=function(e){var t=p[e],n=0,r,i=u.call(arguments,1);if(t){t=t.slice();for(;n<t.length;++n)r=t[n],r.f.apply(r.c||this,i)}e!=="all"&&this.trigger.apply(this,["all",e].concat(i))};var m=function(t){var n=this.length||0,r=0,i=0;if(t)if(t.nodeType||t===e)r=1,this[n]=t;else{r=t.length||0;for(;i<r;++i)this[n+i]=t[i]}this.length=n+r},g=n.dom=function(e){return new m(e)},y=function(e){var t=this,n=e.target||e.srcElement||i,r=e.fromElement;n.nodeType===3&&(n=n.parentNode),t.type=e.type,t.target=n,t.original=e,t.altKey=!!e.altKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t.ctrlKey=!!e.ctrlKey,t.charCode=e.charCode,t.keyCode=e.keyCode,t.relatedTarget=e.relatedTarget||(r===n?e.toElement:r),t.defaultPrevented=!!(e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())};y.prototype={preventDefault:function(){var e=this.original;this.defaultPrevented=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.original;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},m.prototype={splice:o,add:m,ea:function(e){var t=0,n=this.length;for(;t<n;++t)e.call(this[t],t);return this},eaN:function(e){var t=0,n=this.length,r;for(;t<n;++t)r=this[t],r.nodeType===1&&e.call(r,t);return this},before:function(e){return this.ea(function(){e.parentNode.insertBefore(this,e)})},after:function(e){var t=e.nextSibling;return t?this.before(t):this.ea(function(){e.parentNode.appendChild(this)})},rm:function(){return this.ea(function(){var e=this.parentNode;e&&e.removeChild(this)}),this},on:function(t,n){var r=u.call(arguments,2);return this.eaN(function(){var i=this,s,o=function(i){i=i||e.event||{type:t},s&&s.call(this,i),n.apply(this,[new y(i)].concat(r))};i.addEventListener?i.addEventListener(t,o,!1):(s=i["on"+t],i["on"+t]=o),i=null})},listener:function(e,t,n){var r=p[e]||(p[e]=[]);return t&&r.push({f:t,c:n}),this},trigger:function(e){var t=p[e],n=0,r,i=u.call(arguments,1);if(t){t=t.slice();for(;n<t.length;++n)r=t[n],r.f.apply(r.c||this,i)}e!=="all"&&this.trigger.apply(this,["all",e].concat(i))},hasC:function(e){var t=0,n=this.length,r;for(;t<n;++t){r=this[t];if(r.nodeType===1&&(" "+r.className+" ").indexOf(" "+e+" ")>-1)return!0}return!1},addC:function(e){var t=e;return e=" "+e+" ",this.eaN(function(){var n=" "+(this.className||"")+" ";n.indexOf(e)<0&&(this.className=f.call(n+t))})},rmC:function(e){return e=" "+e+" ",this.eaN(function(){var t=" "+(this.className||"")+" ";while(t.indexOf(e)>-1)t=t.replace(e," ");this.className=f.call(t)})},byTag:function(e){var t=g();return this.eaN(function(){t.add(this.getElementsByTagName(e))}),t}},g.byId=function(e){return g(r.getElementById(e))},g.byTag=function(e){return g(i).byTag(e)},g.byName=function(e){return g(r.getElementsByName(e))},g.byClass=function(e){return r.getElementsByClassName?g(r.getElementsByClassName(e)):g(r.querySelectorAll(e))},g.parse=function(e){var t=r.createElement("div");return t.innerHTML=e,g(t.childNodes)},g.contains=i.compareDocumentPosition?function(e,t){return!!(e.compareDocumentPosition(t)&16)}:i.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},g.create=function(e){return g(r.createElement(e))};var b=function(e){return(c.exec(e)||[e,e])[1]},w=function(t){var n=l.exec(t),r=(h.exec(e.document.cookie)||[])[1],i=e.location,s,o;return r&&n&&(n[1]||(t=i.protocol+t),i=i.hostname,s=b(i),n=b(n[2].toLowerCase()),d[n]&&n!==s&&(o="http://"+d[n]+n+"/go?",t.substr(0,o.length)!==o&&(t=o+"url="+a(t)+"&dom="+a(s)+"&swid="+a(r)))),t},E=function(e){var t=e.target,n;while(t){if(t.nodeName==="A"&&(n=t.href)){t.href=w(n);break}t=t.parentNode}};n.go=function(e){return typeof e=="string"?w(e):(g(e).on("keypress",E).on("mousedown",E),e)}}(this);if(!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t,n){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(t.url)&&sameSchemeRegEx.test(t.url)){var r=null,i=(t.dataType||"").toLowerCase();return{send:function(n,s){r=new XDomainRequest,/^\d+$/.test(t.timeout)&&(r.timeout=t.timeout),r.ontimeout=function(){s(500,"timeout")},r.onload=function(){var e="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,t={code:200,message:"success"},n={text:r.responseText};try{if(i==="json")try{n.json=JSON.parse(r.responseText)}catch(o){t.code=500,t.message="parseerror"}else if(i==="xml"||i!=="text"&&xmlRegEx.test(r.contentType)){var u=new ActiveXObject("Microsoft.XMLDOM");u.async=!1;try{u.loadXML(r.responseText)}catch(o){u=undefined}if(!u||!u.documentElement||u.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+r.responseText;n.xml=u}}catch(a){throw a}finally{s(t.code,t.message,n,e)}},r.onerror=function(){s(500,"error",{text:r.responseText})},r.open(e.type,e.url),r.send()},abort:function(){r&&r.abort()}}}})}(function(e){"use strict";var t=e.Disney,n=t.Cookie,r=e.jQuery,i=e.navigator,s=e.location.protocol==="https:",o=Array.prototype.slice,u,a=[],f=function(e){a===null?e(u):a.push(e)},l=e.cto={trackPagination:function(e){e+="";while(e.length<2)e="0"+e;f(function(t){var n=t.pageName;n&&(t.pageName=n.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};r.each(["resetObj","track","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){l[t]=function(){var e=o.call(arguments),n=e[0];n&&n.ctoSrcPath&&c(n.ctoSrcPath),f(function(n){n[t].apply(n,e)})}});var c=function(t){function o(){u=new e.CTO;var t=0,n=function(){t<a.length?(a[t](u),++t,e.setTimeout(n,200)):a=null};n()}if(i&&i.loadPurpose==="preview")return;if(e.cto.account)return;var f,l;r(e).one("CTOReady SWIDReady",function(e){var t=e.type;t==="CTOReady"?f=!0:t==="SWIDReady"&&(l=!0),f&&l&&o()});var c=r.ajax((s?"https://global":"http://aglobal")+".go.com"+t,{dataType:"script",cache:!0});!s&&!n.get("SWID")&&n.enabled()?(c=r.when(c,r.Deferred(function(e){r.ajax("http://r.disney.com/swid",{dataType:"text"}).then(function(t){n.set("SWID",t,{domain:n.domain(),expires:7300}),e.resolve()},function(){e.resolve()})})),c.then(function(){r(e).trigger("SWIDReady")})):r(e).trigger("SWIDReady")}})(this),function(e){"use strict";var t=e.jQuery;e.Tracker={page:function(n){var r={pageName:""};t.extend(r,n),e.cto.track({pageName:r.pageName})},event:function(n){var r={eventCategory:null,action:null,label:null,value:null};t.extend(r,n),r.engagementType=r.eventCategory+":"+r.action,e.cto.trackEvent(r)},link:function(n){var r={linkPosition:null,linkName:null,isChrome:!1,href:null};t.extend(r,n),e.cto.trackLink(r.linkPosition,r.linkName,undefined,r.href),r.isChrome&&(r.linkPosition="Chrome: "+r.linkPosition)},video:function(n){var r={analyticsData:null,info:null};t.extend(r,n),e.cto.trackVideo(r.analyticsData)}},t(function(){t("#nav-outer-container").on("click","li a, #nav-sw-logo, #nav-sw-logo-bar",function(){var n=t(this),r=n.attr("href"),i=n.data("cto")||"",s="";switch(i){case"social":s="/"+n.attr("class"),i+="/";break;case"section":s=n.attr("itemprop"),i+="/";break;case"swlogo":s="/starwars-logo",i="";break;default:}e.Tracker.link({linkPosition:"top-nav/"+i+"link"+s,linkName:"top-nav/"+i+"link",href:r})}),t("footer").on("click","#legal li a, .social-links li a",function(){var n=t(this),r=n.attr("href"),i=n.data("cto")||"",s="";i==="social"?(s="/"+n.attr("class"),i+="/"):s="/"+n.context.innerText.replace(/(\s|\/)/g,"-"),e.Tracker.link({linkPosition:"footer/"+i+"link"+s,linkName:"footer",href:r})})})}(this),function(e,t){"use strict";var n=e.NAV,r=n.dom,i=e.document,s=r(i.documentElement),o=e.encodeURIComponent,u=e.location.protocol==="https:",a="sw_nav",f="",l,c,h,p=n.closeSearch=function(){var i=r.byId("nav-ac").rm();e.clearTimeout(h),l=f=c=t,i.length&&(s.rmC("nav-open-search"),s.hasC("nav-open-menu")||(s.rmC("nav-open"),n.trigger("close")),n.trigger("close:search"))},d=function(e){var r=l&&l.value;h=t,r!==t&&r!==f&&(f=r,r===""?p():(n.load(n.a+o(r)+"?"+(u?"s":"")+"&p="+e),n.trigger("change:search",e)))},v=function(e){var t=r.byId("nav-ac").byTag("li"),n=t.length-1;n>=0&&(c=e,c<0&&(c=n),c>n&&(c=0),t.rmC("nav-active"),r(t[c]).addC("nav-active"))},m=function(e){v(c!==t?c+e:e>0?0:-1)},g=function(e){n.trigger("click"),n.trigger("click:search",e,this)},y={13:function(t){var i=r(r.byId("nav-ac").byTag("li")[c]).byTag("a")[0];return i?(g.call(i),e.location.href=i.href):n.trigger("submit:search",t),p(),!!i},27:function(){if(l)return p(),!0},38:function(){return m(-1),!0},40:function(){return m(1),!0}},b=function(t,n){var r=y[t.keyCode];l=this,r?r.call(this,n)&&t.preventDefault():h||(h=e.setTimeout(function(){d(n)},100))};n.ac=function(e,t){return r(e).byTag("form").ea(function(){var e=r(this);e.hasC("nav-search")&&e.byTag("input").ea(function(){this.name==="q"&&(t=t||a,this.setAttribute("autocomplete","off"),r(this).on("keydown",b,t))})}),e},n._aSac=function(e,i){var o=r.byId("nav-ac").rm();o.rm(),o=o.length,l&&(n.go(r.parse(i)).after(l).byTag("li").ea(function(n){r(this).on("mouseover",function(e){var t=e.target;(t===this||r.contains(this,t))&&v(n)}).on("mouseout",function(e){var n=e.relatedTarget;(!n||n!==this&&!r.contains(this,n))&&v(t)}).byTag("a").on("click",g,e)}),o?v(c):(s.hasC("nav-open-menu")||n.trigger("open"),n.trigger("open:search"),s.addC("nav-open-search"),s.addC("nav-open")),n.trigger("accept:search"))},s.on("click",function(t){var n=t.target;l&&n!==l&&e.setTimeout(p,0)});var w=e.cto,E=function(e){return e=""+e,e=e.replace(/[^\w\s\-]/g,""),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/[\s\-]+/g,"_"),e=e.toLowerCase(),e},S=function(e){w&&w.trackLink(e)},x=function(e,t,n){var r=E(e.textContent||e.innerText),i=t+"/"+(n+1)+"/none/link/"+r;S({linkName:i,linkPosition:t})},T=function(e,t){var n=r.byId(e).byTag("a");n.on("click",function(){var e=this;n.ea(function(n){this===e&&x(e,t,n)})})},N=function(e){var t=e.getAttribute("data-linkname"),n=e.getAttribute("data-linkposition"),r=e.getAttribute("data-linkinput");return t&&n?r?[t,n,r]:[t,n]:!1},C={};n.on("change:search",function(e){w&&!C[e]&&(C[e]=!0,w.trackEvent({searchAttempt:"y",engagementType:e}))}),n.on("accept:base",function(){T("nav-bar","sw_search")}),n.on("submit:search",function(e){w&&w.trackLink(e+"/link/search_enter",e)}),n.on("click:search",function(e,t){var n;e&&(n=N(e.target)),n||(n=N(t)),n[0]&&S({linkName:n[0],linkPosition:n[1],href:t.href,searchPhraseInput:n[2]})})}(this),function(e){"use strict";function d(){var t=s.byId("nav-login");t.add([h.chrome_togg[0],h.search[0],h.social[0]]),h.els=t,h.diff=h.full-h.cmprsd,m(),p.tog.on("click",function(){p.open=L(p.open,{el:[h.outer_container,p.bod],klass:["pushed","pushed"]}),C("nav-drawer-"+(p.open?"open":"closed"))}),p.overlay.on("click",function(){if(!h.outer_container.hasC("pushed"))return;p.open=E()}),h.section_link.listener("close:drawer",function(){e.setTimeout(function(){p.open=E()},300)}),h.section_link.on("click",function(){s.byClass("active")[0]!==this&&h.section_link.trigger("close:drawer")}),h.mobile_logo.on("click",function(){h.section_link.trigger("close:drawer"),s.byClass("active")[0]!==this&&e.setTimeout(function(){p.open=E()},300)}),h.search_togg.on("click",function(){h.search_open=L(h.search_open,{el:[h.search,h.login],klass:["visible","visible"]});var e=h.search_open?"open":"closed";C("search-icon-"+e),e==="closed"&&i.closeSearch()}),h.search_input.on("focus",function(){h.search.addC("visible")}),h.search_input.on("blur",function(){e.setTimeout(function(){h.search.rmC("visible"),h.search_input[0].value=""},200)}),h.did_log_in.on("click",function(){x(1)}),h.did_sign_up.on("click",function(){x(2)}),h.userName.on("click",function(){var e=s.byClass("logged-in");e.hasC("active")?e.rmC("active"):e.addC("active")}),h.chrome_togg.on("click",function(){var e={el:[h.d_chrome,h.chrome_cntrl,h.outer_container],klass:["show","hide","chrome_push"]};h.chrome_rst_top&&(h.chrome_open=!0,h.chrome_rst_top=!1),_(c)>0?(O(),h.chrome_rst_top=w("open")):(C("disney-chrome-"+(h.chrome_open?"hide":"show")),h.chrome_open=L(h.chrome_open,e))})}function m(){c=s(e)[0],h.init_win_width=c.innerWidth,T(),g(),P(c,"resize",n.throttle(function(){y(),S()},300))}function g(){i.a="/_sac/",i.ac(h.search[0],"navigation/search"),h.desktop=h.init_win_width>f.max,h.desktop&&h.isMob&&(h.outer_container.rmC("full-nav"),h.outer_container.addC("compressed")),h.init_win_width>f.max&&!h.mobile&&P(c,"scroll",v)}function y(){h.desktop=h.init_win_width>f.max,c.innerWidth>f.max?P(c,"scroll",v):H(c,"scroll",v)}function b(e){var t=n.isNumber(e);if(t&&e>=h.diff)h.outer_container.rmC("full-nav"),h.outer_container.addC("compressed");else if(t){h.outer_container.rmC("compressed"),h.outer_container.addC("full-nav");return}h.els.eaN(function(){this.removeAttribute("style")}),h.bar[0].removeAttribute("style"),h.wrapper[0].removeAttribute("style")}function w(e){var t=[h.d_chrome,h.chrome_cntrl,h.outer_container],n=["show","hide","chrome_push"],r=0;if(e==="open"){for(;r<t.length;r++)t[r].addC(n[r]);return!0}for(;r<t.length;r++)t[r].rmC(n[r]);return h.chrome_open=!1,!1}function E(){return p.open&&(h.outer_container.rmC("pushed"),p.bod.rmC("pushed")),!1}function S(){var e=c.innerWidth,t=e>f.max;i.closeSearch(),h.desktop=t,n.each(f,function(t){if(e+1>t||e-1<t)h.crssd_ovr=!0}),b(!1),h.isMob||(!t&&!h.willReset?(h.bar[0].setAttribute("style",""),O(),h.willReset=!0):h.willReset=!1,n.defer(function(){h.search_open=L(!0,{el:[h.search,h.login],klass:["visible","visible"]})})),!t&&!h.isMob&&(p.open=E(),h.isCompressed&&(h.outer_container.rmC("compressed"),h.isCompressed=!1)),e>=900&&(e<=f.max||h.desktop&&h.isMob)&&(h.outer_container.rmC("pushed"),p.bod.rmC("pushed")),t&&!h.isCompressed&&!h.isMob&&(h.outer_container.addC("full-nav"),h.isCompressed=!0,h.outer_container.rmC("pushed"),p.bod.rmC("pushed")),h.desktop&&h.isMob&&(h.outer_container.rmC("full-nav"),h.outer_container.addC("compressed"))}function x(e){l.current?l.current&&e===1?(C("account"),l.updateProfile()):l.logout().then(function(){C("sign-out"),N(null)}):(C(e===1?"log-in":"sign-up"),l.login().then(function(e){N(e);return},function(){C((e===1?"log-in":"sign-up")+"-aborted");return}))}function T(){if(l){var e=s.byClass("nav-login");l.refresh().then(function(t){t&&N(t),e.addC("show")}).fail(function(){e.addC("show")})}else h.login[0].setAttribute("display","none")}function N(e){var t=s.byClass("nav-login"),n=s.byClass("disid-user"),r=k(h.login);if(e){var i="Star Wars Fan";e.displayName&&e.displayName.displayName?i=e.displayName.displayName:e.profile&&e.profile.username&&(i=e.profile.username),t.addC("logged-in");for(var o=0;o<n.length;o++)n[o][r]=i}else t.rmC("logged-in")}function C(e){a.event({eventCategory:"starwars",action:e})}function k(e){return"innerText"in e?"innerText":"textContent"}function L(e,t){var r=t||{};if(n.isEmpty(r))return!1;var i=n.values(r.el),s=n.values(r.klass);if(e)for(var o=0;o<i.length;o++)i[o].rmC(s[o]);else for(var u=0;u<i.length;u++)i[u].addC(s[u]);return e?!1:!0}function A(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function O(){var t=_(c),n=0-t,r=0,i=20,s=function(){r+=i;var u=A(r,t,n,120);o.body.scrollTop=o.documentElement.scrollTop=u,r<120&&e.setTimeout(s,i)};s()}function M(e,t){var n=r.round((1-e/t*1.15)*100)/100;return n>0?n:0}function _(){return c.pageYOffset!==undefined?c.pageYOffset:(o.documentElement||o
.body.parentNode||o.body).scrollTop}function D(t,n){var r=!1,i=!0,s=t.document,o=s.documentElement,u=s.addEventListener?"addEventListener":"attachEvent",a=s.addEventListener?"removeEventListener":"detachEvent",f=s.addEventListener?"":"on",l=function(e){if(e.type==="readystatechange"&&s.readyState!=="complete")return;(e.type==="load"?t:s)[a](f+e.type,l,!1),!r&&(r=!0)&&n.call(t,e.type||e)},c=function(){try{o.doScroll("left")}catch(t){e.setTimeout(c,50);return}l("poll")};if(s.readyState==="complete")n.call(t,"lazy");else{if(s.createEventObject&&o.doScroll){try{i=!t.frameElement}catch(h){}i&&c()}s[u](f+"DOMContentLoaded",l,!1),s[u](f+"readystatechange",l,!1),t[u](f+"load",l,!1)}}function P(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function H(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}var t=e.Disney,n=e._,r=e.Math,i=e.NAV,s=i.dom,o=e.document,u=e.Modernizr,a=e.Tracker,f=t.Style.breakpoints,l,c,h={depth:0,init_win_width:0,diff:0,cmprsd:70,full:300,search_open:!1,chrome_open:!1,chrome_rst_top:!1,desktop:!1,isCompressed:!1,els:{},bar:s.byId("navbar"),outer_container:s.byId("nav-outer-container"),d_chrome:s.byId("chrome-container"),chrome_cntrl:s.byId("chrome-controls"),logo:s.byId("nav-sw-logo"),wrapper:s.byId("nav-wrapper"),did_log_in:s.byClass("disid-login"),did_sign_up:s.byClass("disid-signup"),userName:s.byClass("disid-user"),login:s.byId("nav-login"),social:s.byId("social-links"),search:s.byId("nav-search-container"),search_input:s.byId("nav-search-input"),search_togg:s.byId("nav-search-icon"),chrome_togg:s.byId("chrome-controls-container"),section_link:s.byClass("section-link"),mobile_logo:s.byId("nav-sw-logo-bar"),o_pre:u.prefixed("opacity"),isMob:u.touch&&!u.multi_input},p={open:!1,tog:s.byId("nav-drawer-toggle"),bod:s.byId("body-wrapper"),overlay:s.byId("page-overlay")};t.NAV=function(e){l=e},D(e,d);var v=n.throttle(function(){var t=_(this);if(h.isCompressed&&t>=h.diff||!h.desktop||h.isMob)return;var n="height:"+(h.full-(t<h.diff?t:h.diff))+"px;",r=M(t,h.diff)+"",i=h.o_pre+":"+r;h.depth=t,h.isCompressed=t>=h.diff,h.bar[0].setAttribute("style",n),h.wrapper[0].setAttribute("style",i),e.GOC&&e.GOC.queue.push(["closeSearch"]),t!==0&&h.chrome_open&&!h.chrome_rst_top&&w("close"),t===0&&h.chrome_rst_top&&(h.chrome_open=!0,h.chrome_rst_top=!1),b(t)},5)}(this),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e._,i="change:watched",s=function(e,t){t?this.retain():this.release()},o=function(e){e!==i&&this.trigger.apply(this,arguments)},u=function(e){this.current=e||{}},a=function(){this.current=void 0},f={},l=["login","logout","refresh","updateProfile"],c=t.GuestContext=function(e){this._h=e||{},this.on("login",u),this.on("update",u),this.on("logout",a)};c.actions=l,r.extend(c.prototype,n.Events,{_r:0,retain:function(){this._r++===0&&this.trigger(i,this,!0)},release:function(){this._r>0&&--this._r===0&&this.trigger(i,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new c(f);return e._p=this,e.current=this.current,e.on(i,s,this),this.on("all",o,e),e},disown:function(e){e.off(i,s,this),this.off("all",o,e),e._r>0&&this.release()}});var h=function(){throw"Not implemented"};r.each(l,function(e){c.prototype[e]=function(){return(this._h[e]||h).apply(this,arguments)},f[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e,t){"use strict";function f(){}var n=e.Disney,r=e._,i=e.JSON,s=r.rest,o={query:f,provide:f,pub:f,sub:f},u,a;i&&e.postMessage&&(e.addEventListener?(u=function(t){e.addEventListener("message",t,!1)},a=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(u=function(t){e.attachEvent("onmessage",t)},a=function(t){e.detachEvent("onmessage",t)})),n.xdc=function(e,n,f,l){function g(t){var r=h+i.stringify([t].concat(s(arguments)));e.postMessage(r,n)}function y(e){var o,u,a=c.length;e.origin===n&&typeof e.data=="string"&&e.data.substr(0,a)===c&&(o=i.parse(e.data.substr(a)),typeof o[0]=="string"&&(u=r.has(m,o[0])&&m[o[0]])&&u.apply(t,s(o)))}var c="xdc "+f+" ",h="xdc "+(l||f)+" ",p={},d={},v={},m;return u?(u(y),m={call:function(e,n,i){function a(){if(o++)throw"reply already sent";g("reply",n,r.toArray(arguments))}var s=r.has(d,e)&&d[e],o=0,u=!1;if(s)try{s.apply(t,i.concat([a])),u=!0}finally{u||g("error",n,"unexpected remote exception")}else g("error",n,"undefined remote procedure: "+e)},reply:function(e,n){var i=r.has(p,e)&&p[e];i&&(delete p[e],i.apply(t,n))},notify:function(e,n){var i=r.has(v,e)&&v[e],s,o;if(typeof n.length=="number"){if(i)for(s=0,o=i.length;s<o;++s)i[s].apply(t,n);e!=="all"&&m.notify("all",[e].concat(n))}},error:function(e,t){var n=r.has(p,e)&&p[e];if(n)throw delete p[e],""+t}},{query:function(e){var t=s(arguments),n=t[t.length-1],i=r.uniqueId();n&&(p[i]=n,g("call",e,i,r.initial(t)))},provide:function(e,t){d[e]=t},pub:function(e){g("notify",e,s(arguments))},sub:function(e,t){var n=v[e];n||(n=v[e]=[]),n.push(t)},close:function(){a(y)}}):o}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e._,i=e.document,s=/^([^\/:]+:\/\/[^\/]+)\//;t.initGuestConsumer=function(o,u){var a=s.exec(o)||s.exec(e.location.href),f=n.Deferred(),l={};return r.each(t.GuestContext.actions,function(e){l[e]=function(){return f.then(function(t){return n.Deferred(function(n){t.query(e,function(e,t){t?n.reject(t):n.resolve(e)})})})}}),l=new t.GuestContext(l),f.then(function(e){e.sub("all",function(){l.trigger.apply(l,r.toArray(arguments))})}),a?function(){function c(){r.style.visibility="hidden",r.style.minHeight="0",r.style.left="-100%"}var e,r=i.createElement("div"),s=i.createElement("iframe");s.setAttribute("allowtransparency","true"),s.setAttribute("frameBorder","0"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("scrolling","no"),s.setAttribute("style","overflow:hidden;display:block;"),s.src=o,r.setAttribute("style","position:absolute;top:0;bottom:0;width:100%;z-index:10000;"),r.appendChild(s),c(),u=u||i.body,u.appendChild(r),u.style.position="relative",e=t.xdc(s.contentWindow,a[1],"guest"),e.provide("ready",function(t){t(),f.resolve(e)}),l.on("open",function(){r.style.visibility="visible",r.style.minHeight="2000px",r.style.left="0",s.focus&&s.focus(),n("html,body").scrollTop(0)}),l.on("close",c)}():f.reject(),l}}(this),function(e){"use strict";var t=e.Disney,n=e._,r=e.jQuery;t.initEmptyGuestConsumer=function(){var e={};return n.each(t.GuestContext.actions,function(t){e[t]=function(){return r.Deferred()}}),new t.GuestContext(e)}}(this),function(e){"use strict";var t=e.Disney,n=t.didBase?t.initGuestConsumer(t.didBase+e.location.host):t.initEmptyGuestConsumer();t.NAV(n),t.DL&&t.DL(n)}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery;n(function(){var e=n("footer #utility");t.top.on("ready",function(e){})})}(this),Whiskers("page_elements.page_styles",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<style type="text/css"> /* header background images and color settings */ '),r.s(r.f("header_theming",e,t,1),e,t,0,93,1312,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" @media screen and (min-width: 1025px){ "),n.s(n.f("image",e,t,1),e,t,0,143,234,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),n.b(n.v(n.f("image",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("background_color",e,t,1),e,t,0,266,969,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container.full-nav #navbar{ background-color: rgb("),n.b(n.v(n.f("rgb",e,t,0))),n.b("); } #nav-outer-container.full-nav #nav-header-bg .nav-header-fade { background-color: rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 1); background-image: -webkit-linear-gradient(left, rgb("),n.b(n.v(n.f("rgb",e,t,0))),n.b(") 0%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.9) 15%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.8) 27%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.5) 50%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.15) 75%, transparent 100%); background-image: linear-gradient(to right,"),n.b(n.v(n.f("rgb",e,t,0))),n.b(" 0%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.9) 15%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.8) 27%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.5) 50%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.15) 75%, transparent 100%); background-color: transparent; "),n.s(n.f("hex",e,t,1),e,t,0,831,958,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00"),n.b(n.v(n.f("hex",e,t,0))),n.b("', endColorstr='#FF"),n.b(n.v(n.f("hex",e,t,0))),n.b("', GradientType=0)\";")}),e.pop()),n.b(" } ")}),e.pop()),n.b(" } @media screen and (min-width: 1025px) and (-webkit-min-device-pixel-ratio: 1.3), not all, not all, only screen and (min-resolution: 125dpi), only screen and (min-resolution: 1.3dppx){ "),n.s(n.f("image_retina",e,t,1),e,t,0,1194,1292,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),n.b(n.v(n.f("image_retina",e,t,0))),n.b("); } ")}),e.pop()),n.b(" } ")}),e.pop()),r.b(" /* page background images and color settings */ "),r.s(r.f("background_theming",e,t,1),e,t,0,1403,1782,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("background_color",e,t,1),e,t,0,1425,1488,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #background-styles{ background-color: "),n.b(n.v(n.f("background_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("vertical_repeating_left",e,t,1),e,t,0,1538,1615,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .starfield.star-left{ background-image: url("),n.b(n.v(n.f("vertical_repeating_left",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("vertical_repeating_right",e,t,1),e,t,0,1673,1752,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .starfield.star-right{ background-image: url("),n.b(n.v(n.f("vertical_repeating_right",e,t,0))),n.b("); } ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("section_styles",e,t,1),e,t,0,1825,2214,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" .section-color, .module.rich_text a{ color: "),n.b(n.v(n.f("color",e,t,0))),n.b("; } .section-border{ border-color: "),n.b(n.v(n.f("color",e,t,0))),n.b(" !important; } html.no-touch .module.rich_text a:hover, html.no-touch .module.stats a:hover{ color: rgb("),n.b(n.v(n.f("rgb_lighten",e,t,0))),n.b("); } html.no-touch .module a.underline:hover:after, html.no-touch .module .module_header ul li.underline:not(.active) > span:hover:after{ border-bottom-color: "),n.b(n.v(n.f("color",e,t,0))),n.b("; } ")}),e.pop()),r.b(" </style>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.jQuery;n(function(){t.top.on("ready",function(t){if(t.collection&&t.collection.style){var r=t.collection.style,i=e.Whiskers.page_elements.page_styles.render(r);n("#style-pack-theming").html(i)}else n("#style-pack-theming").html("");r&&r.background_theming&&n("#body-wrapper").addClass("body-text-color-"+r.background_theming.text_color),r&&r.header_theming&&n("#sw-nav-wrapper").addClass("nav-text-color-"+r.header_theming.text_color)})})}(this),function(e){"use strict";var t=e.Spatula;t.exclude("news"),t.exclude("news?*p"),t.exclude("news/*p"),t.exclude("events"),t.exclude("events?*p"),t.exclude("events/*p"),t.exclude("feed"),t.exclude("feed?*p"),t.exclude("feed/*p"),t.exclude("wp-content"),t.exclude("wp-content?*p"),t.exclude("wp-content/*p"),t.exclude("wp-includes"),t.exclude("wp-includes?*p"),t.exclude("wp-includes/*p"),t.exclude(/search.*/)}(this),Whiskers("search.results",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="search-bound'),r.s(r.f("meta",e,t,1),e,t,0,33,84,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("total",e,t,1),e,t,1,0,0,"")||n.b(" no_results display-view module")}),e.pop()),r.b('"> '),r.s(r.f("meta",e,t,1),e,t,0,105,764,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(' <section class="search_top"> <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),n.s(n.f("keywords",e,t,1),e,t,0,397,409,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("keywords",e,t,0)))}),e.pop()),n.s(n.f("keywords",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.f("sw_placeholder",e,t,0))),n.b('" spellcheck="false" autocorrect="off" autocapitalize="off"> <span class="search-button"> <input class="large button" type="submit" value="'),n.b(n.v(n.f("search",e,t,0))),n.b('"> </span> </div> '),n.s(n.f("active_section",e,t,1),e,t,0,652,725,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<input type="hidden" value="'),n.b(n.v(n.f("active_section",e,t,0))),n.b('" name="f[search_section]">')}),e.pop()),n.b(" </form> </section> ")}),e.pop()),r.b(' <div class="refine-container"> '),r.b(' <section class="facet_groups"> <p class="refine-title">Refine Your Search</p> '),r.s(r.f("primary",e,t,1),e,t,0,926,1333,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("facets",e,t,1),e,t,0,938,1321,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("search_section",e,t,1),e,t,0,958,1301,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <section class="filter-container'),n.s(n.f("active",e,t,1),e,t,0,1002,1009,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" active")}),e.pop()),n.b('"> <a class="'),n.b(n.t(n.f("searchIcons",e,t,0))),n.b('-filter" href="'),n.b(n.v(n.f("url",e,t,0))),n.b('"> <span class="facet-icon '),n.b(n.t(n.f("searchIcons",e,t,0))),n.b("-icon"),n.s(n.f("active",e,t,1),e,t,0,1132,1140,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" present")}),e.pop()),n.b('"></span> <span class="facet-name '),n.b(n.t(n.f("searchIcons",e,t,0))),n.b('-content"></span> '),n.s(n.f("count",e,t,1),e,t,0,1230,1274,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="num-result"> ['),n.b(n.v(n.f("count",e,t,0))),n.b("]</span>")}),e.pop()),n.b(" </a> </section> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(' </section> </div> <div class="search-view-container"> '),r.s(r.f("meta",e,t,1),e,t,0,1409,2691,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("total",e,t,1),e,t,0,1420,2436,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(" "),n.s(n.f("suggestion",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="totals"> <h2 class="'),n.s(n.f("active_section",e,t,1),e,t,0,1532,1542,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("in-section")}),e.pop()),n.b('"><strong>'),n.b(n.v(n.f("total",e,t,0))),n.b("</strong> "),n.b(n.v(n.f("result_or_results_for",e,t,0))),n.b(' <span class="search-term"><strong>&ldquo;'),n.b(n.v(n.f("keywords",e,t,0))),n.b("&rdquo;</strong></span></h2> "),n.s(n.f("active_section",e,t,1),e,t,0,1717,1956,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="type-container '),n.b(n.v(n.f("active_section",e,t,0))),n.b('-content"> <div class="section-type"> <span class="in">'),n.b(n.v(n.f("in",e,t,0))),n.b('</span> <span class="section-icon '),n.b(n.v(n.f("active_section",e,t,0))),n.b('-icon"></span> <span class="type-label">'),n.b(n.v(n.f("active_section",e,t,0))),n.b("</span> </div> </div> ")}),e.pop()),n.b(" </div> ")),n.b(" "),n.s(n.f("suggestion",e,t,1),e,t,0,2014,2420,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="suggestion"> <h2><strong>'),n.b(n.v(n.f("total",e,t,0))),n.b("</strong> "),n.b(n.v(n.f("result_or_results_for",e,t,0))),n.b(" <strong>&ldquo;"),n.b(n.v(n.f("actual",e,t,0))),n.b("&rdquo;</strong></h2> "),n.s(n.f("corrected",e,t,1),e,t,0,2158,2263,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <h3>"),n.b(n.v(n.f("search_instead_for",e,t,0))),n.b(' &ldquo;<a href="'),n.b(n.v(n.f("literal_url",e,t,0))),n.b('" class="route">'),n.b(n.v(n.f("keywords",e,t,0))),n.b("</a>&rdquo;?</h3> ")}),e.pop()),n.b(" "),n.s(n.f("corrected",e,t,1),e,t,1,0,0,"")||(n.b(" <h3> "),n.b(n.v(n.f("did_you_mean",e,t,0))),n.b(' &ldquo;<a href="'),n.b(n.v(n.f("suggestion_url",e,t,0))),n.b('" class="route">'),n.b(n.v(n.f("suggestion",e,t,0))),n.b("</a>&rdquo;? </h3> ")),n.b(" </div> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("total",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="suggestionNoResults"> <h2>'),n.b(n.v(n.f("no_results",e,t,0))),n.b(' <span class="search-term"><strong>&ldquo;'),n.b(n.v(n.f("keywords",e,t,0))),n.b("&ldquo;</strong></span></h2> </div> <p>"),n.b(n.t(n.f("sw_please_try_another_search",e,t,0))),n.b("</p> ")),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("primary",e,t,1),e,t,0,2713,3088,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("total",e,t,1),e,t,0,2724,2769,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(" "),n.b(n.rp("everything",e,t,"")),n.b(" ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("total",e,t,1),e,t,1,0,0,"")||(n.b(' <section class="search_results_none"> <div class="module_header"> <h2 class="module_title">'),n.s(n.f("meta",e,t,1),e,t,0,2917,2934,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("latest_videos",e,t,0)))}),e.pop()),n.b('</h2> </div> <div class="blocks-bound"> <span class="blocks-container"> '),n.s(n.f("latest",e,t,1),e,t,0,3026,3039,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(n.rp("entity",e,t,"")),n.b(" ")}),e.pop()),n.b(" </span> </div> </section> ")),n.b(" ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),Whiskers("search.no_results",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <div class="building-block-config '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-content without-description with-image third image-top ratio-2x1 short mob-width-full mob-image-top"> <div class="building-block"> <div class="building-block-aspect"> <div class="building-block-padding"> <a class="building-block-wrapper" href="'),r.b(r.v(r.f("href",e,t,0))),r.b('"'),r.s(r.f("ping",e,t,1),e,t,0,353,374,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),r.b('> <div class="image-wrapper"> <div class="aspect"> <img src="'),r.b(r.v(r.f("noResult_image_src",e,t,0))),r.b('" class="thumb" alt="'),r.b(r.v(r.f("title",e,t,0))),r.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),r.s(r.f("duration",e,t,1),e,t,0,589,614,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<time>"),n.b(n.v(n.f("duration",e,t,0))),n.b("</time>")}),e.pop()),r.b(' <div class="content-bumper"> <div class="content-info"> <h3 class="title">'),r.b(r.v(r.f("title",e,t,0))),r.b('</h3> </div> </div> <div class="metadata"> <div class="anchored-text"> <h4 class="category-info"> <span class="content-icon '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-icon"></span> <span class="category-name">'),r.b(r.v(r.f("section_label",e,t,0))),r.b("</span> "),r.s(r.f("ptitle",e,t,1),e,t,0,931,976,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<span class="extra-info">// '),n.b(n.v(n.f("ptitle",e,t,0))),n.b("</span>")}),e.pop()),r.b(' </h4> </div> </div> <div class="decal"></div> </div> </a> </div> </div> </div> </div> '),r.fl()}),Whiskers("search.everything",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="search-view"> <section class="search_results '),r.s(r.f("more_url",e,t,1),e,t,0,70,78,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("has-more")}),e.pop()),r.b('"> <ul> '),r.s(r.f("results",e,t,1),e,t,0,111,948,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<li class="'),n.b(n.v(n.f("type",e,t,0))),n.b(" "),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content result"> <div class="title-wrap"> <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="route result-title"> <h3 class="title bolder-list result_ul" aria-hidden="true">'),n.b(n.v(n.f("title",e,t,0))),n.b("</h3> </a> "),n.s(n.f("source",e,t,1),e,t,0,328,567,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("meta",e,t,1),e,t,0,337,558,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("show_in",e,t,1),e,t,0,349,546,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="type-container"> <div class="section-type"> '),n.s(n.f("type",e,t,1),e,t,0,415,472,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="section-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span>')}),e.pop()),n.b(' <span class="type-label">'),n.b(n.v(n.f("section_label",e,t,0))),n.b("</span> </div> </div> ")}),e.pop())}),e.pop())}),e.pop()),n.b(' </div> <div class="search-desc'),n.s(n.f("image_url",e,t,1),e,t,1,0,0,"")||n.b(" no-image"),n.b('"> '),n.s(n.f("result_image_src",e,t,1),e,t,0,670,785,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="route result-image"> <img src="'),n.b(n.v(n.f("result_image_src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" align="left"> </a> ')}),e.pop()),n.b(" "),n.s(n.f("description",e,t,1),e,t,0,823,860,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <p class="desc">'),n.b(n.v(n.f("description",e,t,0))),n.b("</p> ")}),e.pop()),n.b(" "),n.s(n.d("sitelinks.length",e,t,1),e,t,0,898,914,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(n.rp("sitelinks",e,t,"")),n.b(" ")}),e.pop()),n.b(" </div> </li>")}),e.pop()),r.b(" </ul> "),r.s(r.f("more_url",e,t,1),e,t,0,980,1185,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),n.s(n.f("meta",e,t,1),e,t,0,1111,1124,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("show_more",e,t,0)))}),e.pop()),n.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),r.b(" </section> </div>"),r.fl()}),Whiskers("search.sitelinks",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <ul class="search_sitelinks"> '),r.s(r.f("sitelinks",e,t,1),e,t,0,74,336,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <li class ="'),n.s(n.f("image_url",e,t,1),e,t,0,101,113,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("has_image_sl")}),e.pop()),n.b(" "),n.s(n.f("description",e,t,1),e,t,0,144,155,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("has_desc_sl")}),e.pop()),n.b('"> <a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" data-linkname="OrganicResults/link/'),n.b(n.v(n.f("slug",e,t,0))),n.b("-"),n.b(n.v(n.f("id",e,t,0))),n.b("/"),n.b(n.v(n.f("text",e,t,0))),n.b('" data-linkposition="sitesearch:results:OrganicResults'),n.b(n.v(n.f("index",e,t,0))),n.b('/">'),n.b(n.v(n.f("text",e,t,0))),n.b("</a> </li> ")}),e.pop()),r.b(" </ul> "),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=e.Backbone,i=e.jQuery,s=e.Math,o=s.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var u=s.min(r.Resize.width(),n.wideMax),a=t*u*o*.94,f=e&&e.split("?")[1],l=f&&decodeURIComponent(f).split("region=")[1],c=l&&l.split(",")[2],h=c,p=e;return i(this.sizes).each(function(e,t){h=t;if(a<t)return!1}),h<c&&(p+="&width="+h),p}}}(this),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=e.Spatula,i=e.Whiskers,s=e.Tracker,o=e.NAV,u=e.Backbone,a=e.jQuery,f=e._,l=function(e){var t="OrganicResults";return' data-linkposition="sitesearch:results:'+t+this.index+'/" data-linkname="'+t+"/"+e+"/"+this.slug+"-"+this.id+'"'};t.SearchView=r.RichView.extend({title:"Search",initialize:function(e){var n=t.search;this.options=e,n&&(delete t.search,this.data=n)},safeRender:function(){var e=i.search,r=u.Resize.width()>=n.midLow,s=f.extend({searchIcons:function(){return this.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")},ctoLinkAttr:function(){return l.call(this,"link")},ctoImgAttr:function(){return l.call(this,"thumb")},result_image_src:function(){var e=this.image_url;if(e){var n=.125;return t.LumiereHelpers.imgSrc(e,n)}},noResult_image_src:function(){var e=this.base_images&&this.base_images.desktop.ratio_16x9;if(e){var n=r?.33:1;return t.LumiereHelpers.imgSrc(e,n)}}},this.data);this.el.innerHTML=i.search.results.render(s,{entity:e.no_results,everything:e.everything,sitelinks:e.sitelinks}),o&&o.ac(this.el,"srp/search_module")},cto:function(){return this.data.cto},events:{"click .show_more_container":function(t){var n=this,r=n.data.primary,i=a(t.currentTarget),o=i.attr("href"),u=a.trim(a(t.target).attr("alt")||i.text()),f="search",l=a(t.target).is("img")?"thumb":"link",c=[f,l].join("/"),h=[c,u].join("/");s.link({linkName:h,linkPosition:c,href:o}),t.preventDefault(),this.$(".show_more").addClass("loading"),a.getJSON("/search/more.json"+r.more_url,function(t){r.results=r.results.concat(t.results),r.more_url=t.more_url,n.safeRender(),e.cto.track(),n.$(".show_more").removeClass("loading")})},"click input[name=q]":function(e){e.target.placeholder=""},"onfocus input[name=q]":function(e){e.target.placeholder=""},"blur input[name=q]":function(e){e.target.placeholder=""},"click a":function(e){var t=a(e.currentTarget),n=t.attr("href");e.target.nodeName.toLowerCase()==="img"&&(t=a(e.target)),s.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:n})},"submit form.goc-search":function(){s.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}}})}(this),function(e){"use strict";var t=e.Disney,n=e.Backbone.Router.extend({routes:{"search?*params":"search"},search:function(e){var n=new t.SearchView({params:e?"?"+e:""});t.top.transition(n)}});new n}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=t.Spinner={};n(function(){var i=t.top,s,o=n("#spinner"),u=function(){o.fadeIn("fast")},a=function(){e.clearTimeout(s),o.hide()};i.on("begin",function(){a(),s=e.setTimeout(u,1e3)}).on("ready",a).on("error",a),r=t.Spinner={show:function(){u()},hide:function(){a()}}})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=n.isFunction,i=function(t){var n=e.onerror,r=e.console;r&&r.error&&r.error(t.stack||t.toString()),n&&n(t.toString())};n(function(){t.top.on("ready",function(t){var n=e.cto,s={};r(t.cto)&&(s=t.cto());if(s&&s.account)try{n.resetObj(),n.track(s)}catch(o){i(o)}})})}(this),function(e){"use strict";var t=e.Tracker,n=e.jQuery,r="#burger > [data-module]",i=".slides li",s=function(e){return e!=null&&(e=n.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e},o=function(e,t,r){var i=e.closest(t);return i.length?n(t,r).index(i):-1},u=function(e,t,u,a){var f=[],l=n(r).index(t),c=o(e,".entity,.item,.col,.building-block",t),h=o(e,i,t),p=o(e,".button",e.closest(i+","+r)),d=o(e,".all",t),v=s(n.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text()));return f.push(v,"mod"+(l+1)),c>=0?f.push("item"+(c+1)):h>=0&&f.push("slide"+(h+1)),a&&f.push(a),p>=0?u="button"+(p+1):o(e,".gallery-item",t)>=0&&(u=null),u&&f.push(u),d>=0&&f.push("viewall"),f.join("/")},a=function(e,t,n){var r=o(e,".suggested",t),i=o(e,".card .next",t);return r>=0?"card/suggested/p"+r+"/"+n:i>=0?"card/next/p"+i+"/"+n:o(e,"#next_container",t)>=0?(n==="link"&&(n="details"),"upnext/"+n):u(e,t,n)},f=function(e,t,i){var a=s(n.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),f=n(r).index(t),l=o(e,".modal-window .arrow-next",t),c=o(e,".modal-window .arrow-prev",t),h=o(e,".modal-window .modal-close",t);if(l>=0||c>=0||h>=0){var p=e.data("viewtype"),d=parseInt(e.data("currentitem"),10)+1,v=p==="ad"?"ad":"item"+d,m=a+"/mod"+(f+1)+"/"+v+"/modal";return m}return u(e,t,i)};n("body").on("click","#burger a[href], #burger .button, #burger .launches-modal",function(e){var i=n(this),o=n(e.target),l=o.is("img"),c=i.closest(r),h=s(c.data("module")),p=s(i.closest("[data-title]").data("title")||l&&o.attr("alt")||i.text()),d=l?"thumb":"link",v=s(i.closest("[data-convert]").data("convert")),m;if(h==="search")return;if(c.length){var g="";m=(h==="watch"?a:h==="image_gallery"?f:u)(i,c,d,v),t.link({linkName:h+"/"+m+"/"+p,linkPosition:h+"/"+m+g,href:i.attr("href")})}})}(this),Whiskers("modules.catalog",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,1286,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound" data-title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <div class="poster-container"> <div class="poster-box '),n.s(n.f("isMobile",e,t,1),e,t,0,120,128,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("isMobile")}),e.pop()),n.b('"> <div class="aspect"><img src="'),n.b(n.v(n.f("poster_image_src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" width="100%"></div> </div> </div> <div class="description-container '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content"> '),n.s(n.f("logo_src",e,t,1),e,t,0,321,345,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("logo_src",e,t,0))),n.b('">')}),e.pop()),n.b(' <h1 class="'),n.s(n.f("logo_src",e,t,1),e,t,0,383,391,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("has-logo")}),e.pop()),n.b('">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h1> <p class="desc"> '),n.s(n.f("quote",e,t,1),e,t,0,448,484,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="quote">'),n.b(n.v(n.f("quote",e,t,0))),n.b("</span>")}),e.pop()),n.b(" "),n.b(n.v(n.f("desc",e,t,0))),n.b(" "),n.s(n.f("price",e,t,1),e,t,0,514,551,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="price">$'),n.b(n.v(n.f("price",e,t,0))),n.b("</span>")}),e.pop()),n.b(' </p> <p class="meta"> '),n.s(n.f("rating",e,t,1),e,t,0,595,629,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<span>"),n.b(n.v(n.f("rated",e,t,0))),n.b(": "),n.b(n.v(n.f("rating",e,t,0))),n.b("</span>")}),e.pop()),n.b(" "),n.s(n.f("release",e,t,1),e,t,0,653,832,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <span>"),n.s(n.f("reRelease",e,t,1),e,t,0,674,692,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("reReleasedText",e,t,0)))}),e.pop()),n.s(n.f("reRelease",e,t,1),e,t,1,0,0,"")||n.b("Released:"),n.b(" "),n.s(n.f("reRelease",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.f("release",e,t,0))),n.s(n.f("reRelease",e,t,1),e,t,0,797,810,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("reRelease",e,t,0)))}),e.pop()),n.b("</span> ")}),e.pop()),n.b(" "),n.s(n.f("platform_data",e,t,1),e,t,0,863,913,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <span>"),n.b(n.v(n.f("available_on",e,t,0))),n.b(": "),n.b(n.v(n.f("platform_data",e,t,0))),n.b("</span> ")}),e.pop()),n.b(' </p> <div class="cta"> '),n.s(n.f("retailerData",e,t,1),e,t,0,972,1007,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="retail-button"></div> ')}),e.pop()),n.b(" "),n.s(n.f("hasButton",e,t,1),e,t,0,1039,1250,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="links-container"> '),n.s(n.f("buttons",e,t,1),e,t,0,1082,1230,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="button large links '),n.b(n.v(n.f("type",e,t,0))),n.b(' underline" '),n.s(n.f("convert",e,t,1),e,t,0,1160,1187,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-convert="'),n.b(n.v(n.f("convert",e,t,0))),n.b('"')}),e.pop()),n.b(' target="_blank">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a> ")}),e.pop()),n.b(" </div> ")}),e.pop()),n.b(" </div> </div> </div> ")}),e.pop()),r.fl()}),Whiskers("modules.shared_components.product_button",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="purchase_product"> <a class="button large'),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b(" clear"),r.b('"> <div class="bedazzlement"></div> '),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b('<div class="arrow-left"></div>'),r.b(" "),r.s(r.f("purchase_cta",e,t,1),e,t,0,211,227,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("purchase_cta",e,t,0)))}),e.pop()),r.b(" "),r.s(r.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(r.b(" "),r.s(r.f("retail_links",e,t,1),e,t,0,280,293,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("Pre-order Now")}),e.pop()),r.b(" "),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b("Coming Soon"),r.b(" ")),r.b(" "),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b('<div class="arrow-right"></div>'),r.b(' </a> <div class="buy '),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b("no_flyout"),r.b('" data-convert="buy"> <ul> '),r.s(r.f("retail_links",e,t,1),e,t,0,549,641,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <li><a href="'),n.b(n.v(n.f("content_url",e,t,0))),n.b('" target="_blank" data-retailer="'),n.b(n.v(n.f("title",e,t,0))),n.b('">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a></li> ")}),e.pop()),r.b(" </ul> </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.Whiskers;t.ProductButtonView=n.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){if(typeof e=="undefined")return this._flyoutVisible;this._flyoutVisible=e,this.renderFlyout()},initialize:function(){this.render()},render:function(){var e=this;this.$el.html(r.modules.shared_components.product_button.render(e.model)),this.$el.click(function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active")}})}(this),function(e){"use strict";var t=e.Grill,n=e.Disney,r=n.Style.breakpoints,i=r.midHigh.toString(),s=e.Whiskers,o=e.Backbone,u=e._;t.ModuleView.register("catalog",{breakpoints:i,template:s.modules.catalog,render:function(){var e=this,t=e.model.data.first(),i=e.model.get("data")[0],s=i.buttons,a=o.Resize.width()>=r.midLow,f=e.model.get("translations"),l=new Date,c=l.getUTCDate(),h=l.getUTCMonth()+1,p=l.getUTCFullYear(),d=!1,v;c<10&&(c="0"+c),h<10&&(h="0"+h),l=p+"-"+h+"-"+c;var m=
(i.re_release_date<=l?f.re_released:f.re_releasing)+":";i.type==="Game"&&(v=i.platforms,v&&v.length>0&&(v=v.join(", ")));if(v||i.rating||i.release)d=!0;var g=u.extend({platform_data:v,meta:d,reReleasedText:m,linksInverted:!0,quote:this.model.get("desc"),hasButton:!!s,poster_image_src:function(){var e=this.get("poster_image");if(e){var t=a?.38:1;return n.LumiereHelpers.imgSrc(e,t)}},logo_src:function(){var e=this.get("logo_image");if(e){var t=a?.33:1;return n.LumiereHelpers.imgSrc(e,t)}}},f,e.model);e.$el.html(e.template.render(g,{}));var y=t.get("retailerData");y&&y.retail_links.length&&new n.ProductButtonView({el:e.$(".retail-button"),model:y})},ready:function(){var e=this.model.get("style").background_color?this.model.get("style").background_color:!1;e&&this.$el.css({"background-color":e})}})}(this),Whiskers("modules.display",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound '),r.s(r.f("style",e,t,1),e,t,0,28,67,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("layout",e,t,1),e,t,0,39,56,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("layout-"),n.b(n.v(n.f("layout",e,t,0)))}),e.pop())}),e.pop()),r.s(r.f("hasMore",e,t,1),e,t,0,89,97,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" peeking")}),e.pop()),r.b('"> '),r.s(r.f("header_data",e,t,1),e,t,0,128,146,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(" "),r.s(r.f("hasFilters",e,t,1),e,t,0,178,197,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("filters_header",e,t,""))}),e.pop()),r.b(' <div class="blocks-bound"> <div class="blocks-container"> '),r.b(r.t(r.f("blockList",e,t,0))),r.b(" </div> </div> "),r.s(r.f("hasMore",e,t,1),e,t,0,313,576,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="peek"> <div class="show_more_container"> <a class="show_more button large section-color underline" role="button"> <span class="label">'),n.b(n.v(n.d("translations.show_more",e,t,0))),n.b('</span> <span class="loading-label">'),n.b(n.v(n.d("translations.loading",e,t,0))),n.b("...</span> </a> </div> </div> ")}),e.pop()),r.b(' </div> <div class="module-spinner"> <span class="loader"></span> </div>'),r.fl()}),Whiskers("entities.block",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="building-block-config '),r.b(r.v(r.f("block_name",e,t,0))),r.b(" "),r.b(r.v(r.f("section_class",e,t,0))),r.b("-content "),r.s(r.f("promo_override",e,t,1),e,t,0,94,116,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("block-override-content")}),e.pop()),r.b(" "),r.s(r.f("block_styles",e,t,1),e,t,0,153,529,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.v(n.f("width",e,t,0))),n.b(" image-"),n.b(n.v(n.f("image_placement",e,t,0))),n.b(" "),n.s(n.f("content_height",e,t,1),e,t,0,209,242,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("content-height-"),n.b(n.v(n.f("content_height",e,t,0)))}),e.pop()),n.b(" ratio-"),n.b(n.v(n.f("aspect_ratio",e,t,0))),n.b(" "),n.b(n.v(n.f("height",e,t,0))),n.b(" "),n.s(n.f("mobile_overrides",e,t,1),e,t,0,317,507,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("width",e,t,1),e,t,0,328,347,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-width-"),n.b(n.v(n.f("width",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("image_placement",e,t,1),e,t,0,378,407,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-image-"),n.b(n.v(n.f("image_placement",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("fixed_height",e,t,1),e,t,0,445,489,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-fixed-height mob-height-"),n.b(n.v(n.f("fixed_height",e,t,0)))}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("dynamic_desc",e,t,1),e,t,1,0,0,"")||r.b("no-desc"),r.b(" "),r.s(r.f("author_data",e,t,1),e,t,0,605,615,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" editorial")}),e.pop()),r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,0,650,664,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("suppress-links")}),e.pop()),r.b(" "),r.s(r.f("suppressTruncation",e,t,1),e,t,0,706,725,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("suppress-truncation")}),e.pop()),r.b(" "),r.s(r.f("showMore",e,t,1),e,t,0,762,771,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("show-more")}),e.pop()),r.b(" "),r.s(r.f("lastRow",e,t,1),e,t,0,797,805,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("last-row")}),e.pop()),r.b(" "),r.s(r.f("revealed",e,t,1),e,t,0,831,839,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("revealed")}),e.pop()),r.b('"> <div class="building-block '),r.s(r.f("oldBatch",e,t,1),e,t,0,895,904,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("old-batch")}),e.pop()),r.b(" "),r.s(r.f("promo_override",e,t,1),e,t,0,937,1064,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("promo-override "),n.s(n.f("background_image",e,t,1),e,t,1,0,0,"")||n.b("no-"),n.b("bg "),n.s(n.f("logo_image",e,t,1),e,t,1,0,0,"")||n.b("no-"),n.b("logo "),n.s(n.f("text",e,t,1),e,t,1,0,0,"")||n.b("no-"),n.b("text ")}),e.pop()),r.b('"> <div class="building-block-aspect"> <div class="building-block-padding"> <div class="building-block-wrapper"> <div class="image-wrapper"> <div class="aspect"> '),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||(r.b('<a href="'),r.b(r.v(r.f("href",e,t,0))),r.b('"'),r.s(r.f("target_blank",e,t,1),e,t,0,1298,1314,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),r.b(">")),r.b(" "),r.s(r.f("thumb_sized",e,t,1),e,t,0,1367,1408,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("thumb_sized",e,t,0))),n.b('" class="thumb">')}),e.pop()),r.b(" "),r.s(r.f("thumb_sized",e,t,1),e,t,1,0,0,"")||(r.b('<img src="'),r.b(r.v(r.f("thumb_base",e,t,0))),r.b('" class="thumb">')),r.b(" "),r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||r.b("</a>"),r.b(' </div> </div> <div class="content-wrapper '),r.s(r.f("block_styles",e,t,1),e,t,0,1653,1958,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("text_style_overrides",e,t,1),e,t,0,1679,1932,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("tablet",e,t,1),e,t,0,1691,1789,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("tab-overrides "),n.s(n.f("line_clamp_n_lines",e,t,1),e,t,0,1728,1765,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("tab-trim-"),n.b(n.v(n.f("line_clamp_n_lines",e,t,0))),n.b("-lines")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,1813,1919,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("desktop-overrides "),n.s(n.f("line_clamp_n_lines",e,t,1),e,t,0,1854,1895,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("desktop-trim-"),n.b(n.v(n.f("line_clamp_n_lines",e,t,0))),n.b("-lines")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b('" > <div class="bedazzlement"></div> '),r.b(" "),r.s(r.f("duration",e,t,1),e,t,0,2048,2073,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<time>"),n.b(n.v(n.f("duration",e,t,0))),n.b("</time>")}),e.pop()),r.b(" "),r.b(' <div class="content-bumper"> <div class="content-info"> '),r.s(r.f("promo_override",e,t,1),e,t,0,2185,2300,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("logo_image",e,t,1),e,t,0,2200,2285,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="logo-image-wrapper"><img src="'),n.b(n.v(n.f("logo_image",e,t,0))),n.b('" class="logo-image"></div> ')}),e.pop())}),e.pop()),r.b(' <h3 class="title"> '),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||r.s(r.f("href",e,t,1),e,t,0,2366,2435,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,2401,2417,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop()),r.b(" "),r.b(r.v(r.f("title",e,t,0))),r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||r.s(r.f("href",e,t,1),e,t,0,2500,2504,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),r.b(" </h3> "),r.s(r.f("dynamic_desc",e,t,1),e,t,0,2555,2625,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="desc-sizer"> <p class="desc">'),n.b(n.v(n.f("dynamic_desc",e,t,0))),n.b("</p> </div> ")}),e.pop()),r.b(' </div> </div> <div class="metadata '),r.s(r.f("author_data",e,t,1),e,t,0,2694,2740,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("author-data "),n.s(n.f("photo",e,t,1),e,t,0,2716,2729,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" author-image")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("block_styles",e,t,1),e,t,0,2774,3151,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("editorial_config",e,t,1),e,t,0,2796,3129,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("mobile",e,t,1),e,t,0,2808,2891,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("name",e,t,1),e,t,0,2817,2825,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-name")}),e.pop()),n.s(n.f("photo",e,t,1),e,t,0,2844,2854,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" mob-photo")}),e.pop()),n.s(n.f("date",e,t,1),e,t,0,2873,2882,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" mob-date")}),e.pop())}),e.pop()),n.b(" "),n.s(n.f("tablet",e,t,1),e,t,0,2914,2997,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("name",e,t,1),e,t,0,2923,2931,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("tab-name")}),e.pop()),n.s(n.f("photo",e,t,1),e,t,0,2950,2960,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" tab-photo")}),e.pop()),n.s(n.f("date",e,t,1),e,t,0,2979,2988,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" tab-date")}),e.pop())}),e.pop()),n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,3021,3116,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("name",e,t,1),e,t,0,3030,3042,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("desktop-name")}),e.pop()),n.s(n.f("photo",e,t,1),e,t,0,3061,3075,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" desktop-photo")}),e.pop()),n.s(n.f("date",e,t,1),e,t,0,3094,3107,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" desktop-date")}),e.pop())}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(' "> <div class="anchored-text"> '),r.s(r.f("author_data",e,t,1),e,t,0,3216,3306,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="author-data"> '),n.s(n.f("name",e,t,1),e,t,0,3252,3289,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<h4 class="author-name">'),n.b(n.v(n.f("name",e,t,0))),n.b("</h4>")}),e.pop()),n.b(" </div> ")}),e.pop()),r.b(' <h4 class="category-info"> <span class="content-icon '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-icon"></span> <span class="category-name">'),r.b(r.v(r.f("section_label",e,t,0))),r.b("</span> "),r.s(r.f("extra_info",e,t,1),e,t,0,3476,3525,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<span class="extra-info">// '),n.b(n.v(n.f("extra_info",e,t,0))),n.b("</span>")}),e.pop()),r.b(" </h4> </div> "),r.s(r.f("author_data",e,t,1),e,t,0,3570,3667,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("photo",e,t,1),e,t,0,3580,3657,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="triangle-crop"><img class="author-photo" src="'),n.b(n.v(n.f("photo",e,t,0))),n.b('"></div> ')}),e.pop())}),e.pop()),r.b(' </div> <div class="decal"></div> '),r.b(" </div> </div> </div> </div> </div> </div>"),r.fl()}),Whiskers("modules.shared_components.module_header",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="module_header'),r.s(r.f("seeAll",e,t,1),e,t,0,36,48,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" has-see-all")}),e.pop()),r.b('"> <h2 class="module_title">'),r.b(r.v(r.f("title",e,t,0))),r.b(" //</h2> "),r.s(r.f("desc",e,t,1),e,t,0,114,149,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<p class="module_desc">'),n.b(n.v(n.f("desc",e,t,0))),n.b("</p>")}),e.pop()),r.b(" "),r.s(r.f("seeAll",e,t,1),e,t,0,170,235,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<a class="see-all" href="'),n.b(n.v(n.f("seeAll",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.see_all",e,t,0))),n.b("</a>")}),e.pop()),r.b(" </div>"),r.fl()}),Whiskers("modules.shared_components.filters_header",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="module_header filters has-list"> <div class="category-container"> <div class="bedazzlement"></div> <span class="module_title">'),r.b(r.v(r.f("firstTitle",e,t,0))),r.b('</span> <span class="filter-expand button">+</span> </div> <ul class="filters-container cols-'),r.b(r.v(r.f("numFilters",e,t,0))),r.s(r.f("maxFilterClass",e,t,1),e,t,0,278,289,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" filter-max")}),e.pop()),r.b('"> '),r.s(r.f("filters",e,t,1),e,t,0,323,446,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<li class="filter-name underline" '),n.s(n.f("next",e,t,1),e,t,0,366,386,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('data-next="'),n.b(n.v(n.f("next",e,t,0))),n.b('"')}),e.pop()),n.b(' data-title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"><span>'),n.b(n.v(n.f("title",e,t,0))),n.b("</span></li>")}),e.pop()),r.b(" </ul> </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e.Backbone,i=e.Disney,s=i.Style.breakpoints,o=e.jQuery,u=e._,a=t.ModuleView.extend({className:"module display-view",template:n.modules.display,initialize:function(){var t=this,n=t.model,o=n.get("data"),a=n.get("filters"),f=a&&u.reject(a,function(e){return e.count===0}),l=n.get("show_more_options"),c=n.get("building_blocks")&&n.get("building_blocks").length,h=l&&l.num_rows||1,p=h*c,d=l&&c,v=n.get("default_block_styles");u.extend(t,{showMoreEnabled:!!l,blocksPerRow:c,rowsPerBatch:h,visPerBatch:p,peeksPerBatch:d}),t.blockModel=r.Model.extend({thumb_sized:function(){var e=r.Resize.width(),t=e>=s.midHigh,o=this.get("block_images"),u=this.get("base_images"),a=this.get("rel_image_width")||v.rel_image_width,f=t?a:1,l=this.get("rel_width")||v.rel_width,c=t?l:1,h=c*f,p=h*e<768?"mobile":"desktop";if(!o){if(u){var m=u[p]["ratio_"+n.get("default_thumb_ratio")];return i.LumiereHelpers.imgSrc(m,h)}return this.get("default_thumb")}var d=o[p];if(d)return i.LumiereHelpers.imgSrc(d,h)},block_styles:function(){return this.get("block_styles")||n.get("default_block_styles")}});if(f&&f.length>0){var m=f[0];u.extend(t,{filters:f,filterRoot:"/_grill/filter"+e.location.pathname,activeFilter:m.title}),o=m.data,t.filterCollectionViews={},this.filterCollectionViews[m.title]=t.blockListView=t.setNewBlockListView(m)}else t.blockListView=t.setNewBlockListView(n.attributes);t.blockListView.loadFirstBlocks(o)},render:function(){var e=this.model,t=this.blockListView,r=this.filters&&this.filters.length,s=u.extend({translations:e.get("translations"),blockList:i.placeHtml(t),showMore:!!this.showMoreEnabled,hasMore:this.showMoreEnabled&&t.collection.hasMore(),hasFilters:!!this.filters,numFilters:r,filters:this.filters,firstTitle:this.activeFilter,maxFilterClass:r>5},e);this.$el.html(this.template.render(s,{block:n.entities.block,module_header:n.modules.shared_components.module_header,filters_header:n.modules.shared_components.filters_header})),i.placeSwap(this,t),this.showMoreEnabled&&(this.updateLoadingButton(!1),this.updatePeek(t)),this.$('.filter-name[data-title="'+this.activeFilter+'"]').addClass("active")},ready:function(){var e=this.$(".building-block-padding").outerHeight(),t=this.$(".blocks-container").position().top,n=this.$(".bound").css("padding-top");e>0&&this.$(".module-spinner").css("top",e/2+t+n)},blocksToModels:function(e){var t=this,n=[];return o.each(e,function(e,r){n.push(new t.blockModel(r))}),n},setNewBlockListView:function(e){var i=this,s=new r.LazyCollection([],{count:e.count,model:i.blockModel});u.extend(s,{title:e.title,page:1,visBlocks:[],nextVisBlocks:[],peekBlocks:[],reserveBlocks:[],blockSequence:e.building_blocks&&e.building_blocks.join("-"),hasMore:function(){var e=r.Resize.width()>=768,t=e?this.page*i.visPerBatch:this.length;return t<this.count}}),e.next&&(s.url=i.filterRoot+e.next);var o=new t.ListView({collection:s,className:function(){return"blocks-list-view active "+s.blockSequence},template:{render:function(e){return u.extend(e,{suppressLinks:i.suppressLinks,suppressTruncation:i.suppressTruncation}),n.entities.block.render(e)}}});return u.extend(o,{render:function(){i.$(".blocks-container").append(this.el),i.showMoreEnabled&&i.updatePeek(this)},loadFirstBlocks:function(e){var t=this.collection,n=i.blocksToModels(e),r=n.splice(0,i.visPerBatch),s=n.splice(0,i.peeksPerBatch),o=r.concat(s),a=n;u.each(s,function(e){e.set({revealed:!0,oldBatch:!0})}),u.extend(t,{visBlocks:r,nextVisBlocks:[],peekBlocks:s,reserveBlocks:a}),t.add(o)}}),o}});a.register("display"),a.register("featured_single",{suppressLinks:!0,suppressTruncation:!0});var f=a.extend({events:function(){return this.lazyEvents},lazyEvents:{"click .show_more_container":function(){this.loadingMoreBlocks||this.loadMoreBlocks(this.blockListView.collection)}},updateLoadingButton:function(e){this.$el.toggleClass("loading-more",e)},loadMoreBlocks:function(e){var t=this.visPerBatch,n;e.page++,this.updateLoadingButton(!0),this.$(".blocks-bound").removeClass("first-batch");var r=e.page*t,i=e.visBlocks.length,s=r-i,u=e.peekBlocks.length,a=s-u,f=[];e.nextVisBlocks=e.peekBlocks,e.peekBlocks=[],a>0&&(f=e.reserveBlocks.splice(0,a),o.merge(e.nextVisBlocks,f)),o.merge(e.visBlocks,e.nextVisBlocks),this.showMoreEnabled&&(e.peekBlocks=e.reserveBlocks.splice(0,this.peeksPerBatch)),n=f.concat(e.peekBlocks),e.add(n),this.updateLoadingButton(!1),this.updatePeek(this.blockListView),e.reserveBlocks.length<this.visPerBatch&&e.url&&!this.loadingMoreBlocks&&this.fetchBackupBlocks(e)},fetchBackupBlocks:function(e){var t=this;t.updateLoadingButton(!0),this.loadingMoreBlocks=!0,o.getJSON(e.url,function(n){o.each(n.data,function(n,r){e.reserveBlocks.push(new t.blockModel(r))}),e.url=n.next?t.filterRoot+n.next:null,t.loadingMoreBlocks=!1,t.updateLoadingButton(!1)})},updatePeek:function(t){var n=t.collection,r={vis:n.visBlocks.length,peek:n.peekBlocks.length,nextVis:n.nextVisBlocks.length,newRows:Math.ceil(n.nextVisBlocks.length/this.blocksPerRow)},i=u.pluck(t.views,"$el"),s=o(i).map(function(){return this.toArray()}),a=s.slice(0,r.vis),f=a.slice(-1*r.nextVis),l=f.find(".building-block"),c=s.slice(r.vis,r.vis+r.peek),h=s.find(".building-block-padding"),p=h.outerHeight(),d=120,v=d*r.newRows,m=1;u.each(n.visBlocks,function(e){e.set("lastRow",!1)}),u.each(n.peekBlocks,function(e){e.set("lastRow",!0)});if(p>0){var g={},y=function(e){g["$row"+e].css("height",p)};if(this.rowsPerBatch>1&&r.newRows>1){for(var b=0;b<this.rowsPerBatch;b++){var w="row-"+(b+1)+"-of-batch",E=f.slice(b*this.blocksPerRow,(b+1)*this.blocksPerRow);E.addClass(w),g["$row"+(b+1)]=E.find(".building-block")}y(m);var S=e.setInterval(function(){y(++m),m===r.newRows&&e.clearInterval(S)},d)}else l.css("height",p);e.setTimeout(function(){c.addClass("revealed"),u.each(n.peekBlocks,function(e){e.set("revealed",!0)}),l.css("height","auto")},v)}else c.addClass("revealed");this.updateLoadingButton(!1),this.$el.toggleClass("has-more",n.hasMore())}});f.register("line_up"),f.register("lazy_display");var l=f.extend({filterContent:!0,events:function(){return u.extend(this.lazyEvents,this.filterEvents)},filterEvents:{"click .filters .category-container":function(){this.$(".filters-container").toggleClass("active")},"click .filter-name":function(e){var t=this,n=o(e.currentTarget),r=n.attr("data-title"),i=n.index(),s=t.$(".filter-name.active"),u=t.filterCollectionViews[r];if(t.activeFilter!==r){s.add(".filters-container").removeClass("active"),t.$(".category-container .module_title").html(r),t.$(".blocks-bound").addClass("first-batch"),n.addClass("active"),t.activeFilter=r;if(u)t.replaceView(u);else{var a=t.setNewBlockListView(t.filters[i]);t.updateSpinner(!0),o.getJSON(a.collection.url,function(e){a.loadFirstBlocks(e.data),a.collection.url=e.next?t.filterRoot+e.next:null,t.replaceView(a),t.filterCollectionViews[r]=a,t.updateSpinner(!1)})}}}},replaceView:function(e){this.blockListView.$el.removeClass("active"),this.blockListView=e,this.blockListView.$el.index()<0?this.blockListView.render():this.blockListView.$el.addClass("active"),this.$el.toggleClass("has-more",this.blockListView.collection.hasMore())},updateSpinner:function(e){this.$el.toggleClass("replacing-data",e)}});l.register("display_filters")}(this),Whiskers("modules.header",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(" </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e._;t.ModuleView.register("header",{className:"module full-height",template:n.modules.header,render:function(){var e=r.extend({},this.model);this.$el.html(this.template.render(e,{module_header:n.modules.shared_components.module_header}))}})}(this),Whiskers("modules.image_gallery.image_gallery",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,2536,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="gallery-bound"> <div id="print-image"> <div class="print-frame"> <div class="img-wrapper"> <img> <div class="info"> <p class="print-notice"> &copy; 2014 Star Wars </p> <span class="caption"></span> </div> </div> </div> </div> <div class="gallery_header"> <div class="gallery_banner_container section-border"> <div class="banner_img"> <div class="scaler"></div> <img src="'),n.b(n.v(n.f("banner",e,t,0))),n.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),n.b(' <div class="content_description"> <h1>'),n.b(n.v(n.f("gallery_title",e,t,0))),n.b("</h1> "),n.s(n.f("description",e,t,1),e,t,0,583,625,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<p class="description">'),n.b(n.v(n.f("description",e,t,0))),n.b("</p>")}),e.pop()),n.b(" "),n.s(n.f("parent_page",e,t,1),e,t,0,658,760,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("parent_page",e,t,0))),n.b('" class="parent_page_link underline section-color">'),n.b(n.v(n.f("parent_page_title",e,t,0))),n.b("</a> ")}),e.pop()),n.b(' </div> <div class="gallery_external_links"> <ul> <li class="image-total"> <span class="total-icon"></span> <p>'),n.b(n.v(n.f("numImages",e,t,0))),n.b(" "),n.b(n.v(n.d("translations.images",e,t,0))),n.b("</p> </li> "),n.b(n.rp("socialShare",e,t,"")),n.b(' </ul> </div> </div> </div> <div id="gallery_thumb_grid"> <ul class ="img-cols"> '),n.s(n.f("thumbViewList",e,t,1),e,t,0,1050,1069,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.t(n.f("thumbViewList",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("thumbViewList",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.b(" "),n.s(n.f("images",e,t,1),e,t,0,1180,1207,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("partials/gallery_thumb",e,t,""))}),e.pop()),n.b(" ")),n.b(" </ul> </div> "),n.s(n.f("hasMore",e,t,1),e,t,0,1263,1463,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="show_more_container"> <div class="show_more button large section-color" role="button"> <span class="label"> '),n.b(n.v(n.d("translations.show_more",e,t,0))),n.b(' </span> <span class="spinner"></span> </div> </div> ')}),e.pop()),n.b(" "),n.b(' <div class="modal-window"> <div class="modal-header"></div> <div class="modal-content"> '),n.b(n.t(n.f("imageViewList",e,t,0))),n.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="modal-footer"> <span class="print"></span> <span class="image-count"><span class="current-count">1</span> '),n.b(n.v(n.d("translations.of",e,t,0))),n.b(" "),n.b(n.v(n.f("numImages",e,t,0))),n.b('</span> </div> <div class="loading-status"><span>'),n.b(n.v(n.d("translations.loading",e,t,0))),n.b('...</span></div> <div class="modal-info"> <h2 class="modal-title">'),n.b(n.v(n.f("gallery_title",e,t,0))),n.b("</h2> "),n.s(n.f("socialShare",e,t,1),e,t,0,2390,2406,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("socialShare",e,t,""))}),e.pop()),n.b(' </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div> ')}),e.pop()),r.fl()}),Whiskers("modules.image_gallery.gallery_thumb",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<li class="gallery-item item thumb launches-modal '),r.s(r.f("active",e,t,1),e,t,0,61,67,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("active")}),e.pop()),r.b('" data-title="thumb" itemscope itemtype="http://schema.org/ImageObject"> <div class="center-crop"> <div class="img-aspect"> <a itemprop="contentURL" href="'),r.b(r.v(r.f("image_fog",e,t,0))),r.b('"> <img class="thumbnail-image" title="'),r.b(r.v(r.f("seo_title",e,t,0))),r.b('" alt="'),r.b(r.v(r.f("seoCaption",e,t,0))),r.b('" src="'),r.b(r.v(r.f("thumbnail_image_fog",e,t,0))),r.b('" itemprop="thumbnailUrl"> <div class="active-indicator"></div> </a> </div> <div class="zoom-overlay" '),r.s(r.f("touchDevice",e,t,1),e,t,0,467,484,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' ontouchstart=" "')}),e.pop()),r.b('> <div class="zoom-icon"></div> </div> </div> <meta itemprop="caption" content="'),r.b(r.v(r.f("caption",e,t,0))),r.b('"> <meta itemprop="name" content="'),r.b(r.v(r.f("seoTitle",e,t,0))),r.b('"> </li>'),r.fl()}),Whiskers("modules.image_gallery.image_gallery_slide",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<li class="content-container item-'),r.b(r.v(r.f("slide",e,t,0))),r.b(" "),r.b(r.v(r.f("type",e,t,0))),r.b("-"),r.b(r.v(r.f("index",e,t,0))),r.b(" "),r.b(r.v(r.f("type",e,t,0))),r.b('"> <div class="image-info"> '),r.s(r.f("caption",e,t,1),e,t,0,111,149,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<p class="description">'),n.b(n.v(n.f("caption",e,t,0))),n.b("</p>")}),e.pop()),r.b(' </div> <div class="gallery-image-sizer"> <img class="gallery-image"> </div> </li>'),r.fl()}),Whiskers("modules.shared_components.social_share",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("socialShare",e,t,1),e,t,0,16,771,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("facebook",e,t,1),e,t,0,30,397,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li class="facebook"> '),n.s(n.f("facebook_like",e,t,1),e,t,0,71,198,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="fb-like" data-send="false" data-type="button" data-show-faces="false" data-width="90" data-href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"></div> ')}),e.pop()),n.b(" "),n.s(n.f("facebook_share",e,t,1),e,t,0,236,371,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="fb-share-button" data-send="false" data-type="button" data-show-faces="false" data-width="90" data-href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"></div> ')}),e.pop()),n.b(" </li> ")}),e.pop()),n.b(" "),n.s(n.f("twitter",e,t,1),e,t,0,423,617,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li class="twitter"> <a href="https://twitter.com/share" class="twitter-share-button" data-text="'),n.b(n.v(n.f("title",e,t,0))),n.b('" data-dnt="true" data-lang="en" data-count="none" data-url="'),n.b(n.v(n.f("href",e,t,0))),n.b('">Tweet</a> </li> ')}),e.pop()),n.b(" "),n.s(n.f("g_plus",e,t,1),e,t,0,641,759,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li class="g-plus"> <div class="g-plus" data-action="share" data-annotation="none" data-href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"></div> </li> ')}),e.pop()),n.b(" ")}),e.pop()),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.placeSwap=function(e,t){if(!t)return function(t){t&&n(e,t)};t.render(),e.$("#"+t.cid).replaceWith(t.el)};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e,t,n){"use strict";var r="swipeasaurus",i="."+r,s={effect:"slide",loop:!0,index:0,speed:300,delay:0},o=Math.abs,u=Math.min,a=e.setTimeout,f=e.clearTimeout,l=["Webkit","Moz","ms","O"],c=e.document.documentElement,h=function(e){var t,r=0;if(c.style[e]!==n)return e;t=e.charAt(0).toUpperCase()+e.substr(1);for(;r<l.length;r++)if(c.style[l[r]+t]!==n)return l[r]+t},p=!!h("perspective"),d=!!h("transition"),v=!!h("transform"),m=(h("transform")||"transform").replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),g=function(){return(new Date).getTime()},y=function(e,n){return t("<span/>",{"class":e,title:n,role:"button",onclick:""})},b={slide:{c:{overflow:"hidden"},s:{opacity:1,transitionProperty:m+", visibility"},a:d&&v?function(e,t,n){n=n?n+"ms":"0ms";var r=o(t)<2;e.css({transitionDuration:n+", 0ms",transitionDelay:"0ms, "+(r?"0ms":n),visibility:r?"visible":"hidden",transform:p?"translate3d("+t*100+"%,0,0)":"translateX("+t*100+"%)"})}:function(e,t,n){var r=this,i=function(){e.css("left",(t*(1-r._r-r._l)+r._l)*100+"%")},s=e.width();n&&s?e.stop().css("left",e.position().left).animate({left:t*s+"px"},n,i):i()}},fade:{c:{overflow:""},s:{transform:"translate3d(0,0,0)",transitionProperty:"opacity, visibility"},a:d?function(e,t,n){n=n?n+"ms":"0";var r=o(t),i=r<1,s=r<.5;e.css({transitionDuration:n+", 0ms",transitionDelay:"0ms, "+(i?"0ms":n),visibility:i?"visible":"hidden",opacity:1-u(1,r),zIndex:s?1:0})}:function(e,t,n){var r=o(t),i=r<1;i&&e.css({visibility:"visible"}),e.stop().animate({opacity:1-u(1,r)},n,function(){i||e.css({visibility:"hidden"})})}}},w={scroll:function(){t(this.$el).scrollLeft(0)}},E=function(e,t){var n=e[t]||e.peek;return n>0&&n<.5?n:0},S=function(e,n){var r=this,s,o=r.$slides=e.children(),u=r.length=o.length,a=r._w=!!n.loop,f=r._l=E(n,"left"),l=r._r=E(n,"right"),c=1-f-l;r._s=+n.speed,r.index=n.index,r.$el=e,t.each(w,function(t,s){var o=e;t.substr(0,5)==="mouse"&&n.arrows&&(o=e.parent()),o.on(t+i,function(e){s.call(r,e)})}),o.on("focusin",function(){r.slide(t(this).index())}),n.dots&&u>1&&(s=o.map(function(e){return y("dot",e)[0]}),s.on("click",function(e){var n=t(e.currentTarget).index();r.slide(n)}),e.on("slide",function(e,t){s.removeClass("active").eq(t).addClass("active")}),e.after(t("<div/>",{"class":"dots","aria-hidden":"true"}).append(s))),t.each({prev:["Previous",0],next:["Next",u-1]},function(i,s){var o;n[i]?o=t(n[i]):n.arrows&&(o=e.siblings("."+i),!o.length&&u>1&&e.after(o=y(i,s[0]))),o&&(o.on("click",t.proxy(r[i],r)),a||e.on("slide",function(e,t){o.toggleClass("disabled",t===s[1])}))}),e.css({zIndex:1,position:"relative"}),o.each(function(e){t(this).css({display:"block",position:e===0?"relative":"absolute",width:100*c+"%",left:100*f+"%",top:0})}),r.effect(n.effect),r.start(n.delay)};S.prototype={_c:0,effect:function(e){var n=b[e]||s.effect;this._a=function(e,r){var i=0,s=this.length,o=this.$slides;for(;i<s;++i)n.a.call(this,t(o[i]),i-e,r)},this.$el.css(n.c),this.$slides.css(n.s),this.slide(this.index,!0)},slide:function(e,t){var n=this,r=t?0:n._s;e<0&&(e=0),e>=n.length&&(e=n.length-1);if(!(n._c++)||n.index!==e)n.$el.trigger("slide",n.index=e),f(n._t),n._t=a(function(){n.$el.trigger("slideEnd",e)},r);n._a(n.index,r),n.resume()},prev:function(){var e=this.index;e===0?this._w&&this.slide(this.length-1):this.slide(e-1)},next:function(){var e=this.index;e===this.length-1?this._w&&this.slide(0):this.slide(e+1)},resume:function(){var e=this;e.pause(),e._d>0&&(e._i=a(function(){t(e.$el).data(r)===e&&e.next()},e._d+e._s))},pause:function(){f(this._i)},start:function(e){this._d=e||this._d,this.resume()},stop:function(){this._d=0,this.pause()}},t.extend(w,e.Modernizr.touch?{touchstart:function(e){var t=e.originalEvent.touches;if(t.length>1)return w.touchcancel.call(this,e);this.touch={x:t[0].pageX,y:t[0].pageY,delta:0,dist:0,test:!0,time:g(),width:this.$el.width()}},touchmove:function(e){var t=this.touch,n=e.originalEvent.touches,r=this.index,i=this.length,s,u;if(t){s=n[0].pageX-t.x,t.dist+=o(s-t.delta),t.delta=s;if(t.test){u=n[0].pageY-t.y,t.test=!1;if(o(s)<o(u))return w.touchcancel.call(this,e)}e.preventDefault(),this.pause();if(r===0&&s>0||r===i-1&&s<0)s/=o(s)/t.width+1;this._a(r-s/t.width)}},touchcancel:function(){this.touch=null,this.slide(this.index)},touchend:function(e){var t=this.touch,n=0;if(t){if(o(t.delta)*2>t.width||g()-t.time<250&&t.dist>20)n=t.delta<0?1:-1;t.dist>20&&(e.preventDefault(),this.bust=g()),this.touch=null,this.slide(this.index+n)}},click:function(e){this.bust&&g()-this.bust<250&&e.preventDefault()}}:{mouseenter:function(){this.pause()},mouseleave:function(){this.resume()}}),t.fn[r]=function(e){var n=arguments;return this.each(function(){var i=t(this),o;typeof e=="string"?(o=i.data(r),o[e].apply(o,Array.prototype.slice.call(n,1))):(e=t.extend({},s,e),i.data(r,new S(i,e)))})}}(this,jQuery),function(e){"use strict";var t=e.Disney,n=e.Math,r=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],i=t&&t.item,s=t.height/t.width||0,o=t.limitMax,u=e[1],a=e[2]&&e[2].height()||0,f=e[3],l=f&&f.height()||0,c=e[4]||.5,h=u.height(),p=h-a-l,d=u.width(),v=o?t.width:n.min(p/s,d),m=o?t.height:v*s,g=n.max(n.abs(p-m)*c,0),y=g+m;f.css({top:y}),i&&r(i).css({height:m,width:v,top:g})}}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery;t.Social=t.Social||{},t.Social.init=function(e){var r=t.Social[e].callback,i=t.Social[e].url;n.getScript(i,r)},t.Social.facebook={url:"//connect.facebook.net/en_US/all.js",callback:function(){e.FB.init({appID:n("meta[property='fb:app_id']").attr("content"),status:!0,cookie:!0,xfbml:!0})}},t.Social.google={url:"//apis.google.com/js/plusone.js"},t.Social.twitter={url:"//platform.twitter.com/widgets.js"}}(this),function(e){"use strict";var t=e.Grill,n=e.Disney,r=n.Style.breakpoints,i=e.Modernizr,s=e.Whiskers,o=e.Backbone,u=e.Tracker,a=e._,f=e.jQuery;t.ModuleView.register("image_gallery",{page:1,currentImage:0,currentSlide:0,resizeParams:{},adjacents
:[],template:s.modules.image_gallery.image_gallery,socialShare:{facebook:{facebook_like:!1,facebook_share:!0}},events:{"click .modal-close":function(){this.closeModal(),o.Resize.width()>480&&this.centerThumb(this.thumbViewList.views[this.currentImage].$el)},"click .modal-overlay":function(){this.closeModal()},"click .gallery-item":function(e){e.preventDefault();var t=f(e.target).closest(".gallery-item").index(),n=t,r=this.viewForIndex(n),i=this.$(".modal-slides"),s=this.$(".modal-window");s.addClass("first-shown"),i.swipeasaurus("effect","fade"),this.onSlide(n),i.swipeasaurus("slide",n),i.swipeasaurus("effect","slide"),s.addClass("modal-show"),r.$el.css("visibility","visible")},"click .show_more_container":function(){this.loadMoreThumbs(),u&&this.cleanPageName&&u.page({pageName:this.cleanPageName+"_"+this.page})},"click .print":function(){e.print()}},initialize:function(){var e=this,n=a.first(this.model.get("data")),r=n.images;a.extend(this,{touchDevice:i.touch,allThumbs:r,numImages:r.length,modalImages:[],visibleThumbs:r&&r.slice(0,this.page*this.numPerBatch())}),f.each(this.allThumbs,function(t,n){n.index=t,n.slide=e.modalImages.length,n.type="image",e.modalImages.push(n)}),this.numSlides=e.modalImages.length,this.thumbCollection=new o.LazyCollection(this.visibleThumbs),this.modalCollection=new o.LazyCollection(this.modalImages),this.thumbViewList=new t.ListView({collection:this.thumbCollection,template:{render:function(e){return s.modules.image_gallery.gallery_thumb.render(e,{})}}}),this.imageViewList=new t.ListView({className:"modal-slides",collection:this.modalCollection,template:{render:function(e){return a.extend(e,{imgSrc:function(){return o.Resize.width()<=568?this.get("mobile_image"):this.get("image")}}),s.modules.image_gallery.image_gallery_slide.render(e,{})}}}),f.each(this.imageViewList.views,function(e,t){t.printSrc=t.model.get("image")||null});var u=this.model.collection;u&&u.cto&&(this.cleanPageName=u.cto.pageName,u.cto.pageName+="_1",u.cto.breadcrumbs="image-gallery")},render:function(){var e=this.thumbViewList,t=this.imageViewList,r=this.model.get("translations")||{},i={images:"Images"};a.defaults(r,i);var o=a.extend({numImages:this.numImages,hasMore:this.hasMore(),thumbViewList:n.placeHtml(e),imageViewList:n.placeHtml(t),translations:r,socialShare:this.socialShare},this.model);this.$el.html(this.template.render(o,{socialShare:s.modules.shared_components.social_share})),n.placeSwap(this,e),n.placeSwap(this,t)},ready:function(){var t=this,r=this.slides=this.$(".modal-slides");r.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500}),this.$(".content-container").css("visibility","hidden"),r.on("slide",function(e,n){t.onSlide(n)}),this.updateButton(!1),f("body").addClass(this.hoverClass),f("html").addClass("single-page-print");var i=27,s=37,o=39;f(e.document).keyup(function(e){switch(e.keyCode){case i:f(".modal-window .modal-close").trigger("click");break;case s:r.swipeasaurus("prev");break;case o:r.swipeasaurus("next")}}),this.socialShare&&this.socialShare.facebook&&n.Social.init("facebook")},dimensions:function(){var e=o.Resize.width(),t=e>=r.max?"desktop":e>=r.midHigh?"tablet":"mobile",n={desktop:4,tablet:3,mobile:2},i={desktop:3,tablet:3,mobile:3},s={cols:n[t],rows:i[t]};return s},numPerBatch:function(){return this.dimensions().rows*this.dimensions().cols},bindResize:function(t){var r=this,i=r.fetchAdjacents(),s=function(){n.Style.fitToScreen(r.fetchResizeParams(t)),i.length>0&&f(i).each(function(e,t){n.Style.fitToScreen(r.fetchResizeParams(t))})};f(e).on("resize."+this.cid+"slide"+t,a.debounce(s,100))},unbindResize:function(t){f(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var n=t.$el,r=this.$(".modal-window"),i=this.$(".modal-header"),s=n.find(".image-info"),o=.46,u="item"+t.model.get("slide");return this.resizeParams[u]=[e,r,i,s,o],this.resizeParams[u]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var n=e.$el.find("img")[0];t=n&&!!n.src}return t},preloadItem:function(t){var n=this,r=t.model,i=o.Resize.width()<=568?r.get("mobile_image"):r.get("image"),s=new e.Image;s.className="gallery-image",s.src=i,s.complete?n.insertNewItem(t,s):f(s).on("load",function(){n.insertNewItem(t,s)})},insertNewItem:function(e,t){var n,r=e.$el.find("img")[0]||null;r&&t&&f(r).replaceWith(t),n=t,this.sizeItem(n,e),this.$(".modal-window").removeClass("loading")},onSlide:function(t){var r=this,i=this.$(".modal-window"),s=this.viewForIndex(t),o=s.model,l=t<this.numSlides-1?t+1:null,c=t>0?t-1:null,h={next:l,prev:c};r.itemLoaded(s)||(this.preloadItem(s),i.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=h,a.extend(this,{currentImage:o.get("index"),currentSlide:t,currentView:s}),this.$(".current").removeClass("current"),s.$el.addClass("current"),this.currentImage>=this.visibleThumbs.length&&this.loadMoreThumbs(),f.each(h,function(e,t){if(t){var i=r.viewForIndex(t);r.itemLoaded(i)?n.Style.fitToScreen(r.fetchResizeParams(t)):r.preloadItem(i)}}),this.setNewText(s),this.insertPrintData(s),s.$el.css("visibility","visible"),s.$el.css("opacity",1),i.hasClass("first-shown")&&e.setTimeout(function(){r.$(".modal-window").removeClass("first-shown")},800),n.Style.fitToScreen(r.fetchResizeParams(t)),u&&this.cleanPageName&&u.page({pageName:this.cleanPageName})},centerThumb:function(e){var t=e.outerHeight(),n=e.offset().top,r=t/2,i=Math.max(n-r,0);f("body").stop(!0).animate({scrollTop:i},1e3)},setNewText:function(e){var t=parseInt(e.model.get("index"),10),n=this.fetchAdjacents().next,r=this.fetchAdjacents().prev,i=n?this.viewForIndex(n).model:e.model,s=r?this.viewForIndex(r).model:e.model;this.$(".modal-window .current-count").html(t+1),this.$(".modal-window .arrow-prev").data({currentitem:n?i.get("index"):this.numSlides,viewtype:i.get("type")}),this.$(".modal-window .arrow-next").data({currentitem:r?s.get("index"):0,viewtype:s.get("type")})},sizeItem:function(t,r){var i,s,o,u=new e.Image;u.src=t.src,i=u.height,s=u.width,o=!1;var a={height:i,width:s,limitMax:o,item:t};r.aspectRatio=i/s,n.Style.fitToScreen(this.setResizeParams(a,r))},closeModal:function(){var t=this;this.$(".modal-window .modal-close").data("currentitem",this.currentImage),this.$(".modal-window").removeClass("modal-show loading"),this.$(".gallery-item.active").removeClass("active"),this.$(".content-container").css("visibility","hidden"),this.thumbViewList.collection.at(t.currentImage).set("active",!0),e.setTimeout(function(){t.thumbViewList.collection.at(t.currentImage).set("active",!1)},1200),this.unbindResize(this.currentSlide)},updateButton:function(e){this.$el.toggleClass("loading",e).toggleClass("has-more",this.hasMore())},hasMore:function(){return this.page*this.numPerBatch()<this.numImages},loadMoreThumbs:function(){this.page++,this.updateButton(!0),this.visibleThumbs=this.allThumbs.slice(0,this.page*this.numPerBatch()),this.thumbViewList.collection.add(this.visibleThumbs),this.updateButton(!1)},viewForIndex:function(e){return this.imageViewList.views[e]},remove:function(){this.unbindResize(this.currentSlide),f("body").removeClass(this.hoverClass),f("html").removeClass("single-page-print"),t.ModuleView.prototype.remove.call(this)},insertPrintData:function(e){var t=f("#print-image img")[0],n=e.printSrc,r=e.model.get("caption");t&&(t.src=n),f("#print-image .caption").html(r)}})}(this),Whiskers("modules.links_list",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-content"> <div class="module_header has-list"> '),r.s(r.f("linkTitle",e,t,1),e,t,0,97,146,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="module_title">'),n.b(n.v(n.f("linkTitle",e,t,0))),n.b("</span> ")}),e.pop()),r.b(" "),r.s(r.f("seeAll",e,t,1),e,t,0,172,315,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="header-divider module_title">//</span> <a class="see-all underline section-color" href="'),n.b(n.v(n.f("seeAll",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.see_all",e,t,0))),n.b("</a> ")}),e.pop()),r.b(' <ul class="links-list"> '),r.s(r.f("linkData",e,t,1),e,t,0,364,542,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<li class="'),n.s(n.f("href",e,t,1),e,t,0,384,402,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("underline has-link")}),e.pop()),n.b('"><span><a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,464,485,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),n.b(' class="section-color">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a></span></li>")}),e.pop()),r.b(" </ul> </div> </div>"),r.fl()}),function(e){"use strict";function s(e){return e.split("?")[0]}var t=e.Grill,n=e.Whiskers,r=e.jQuery,i=e._;t.ModuleView.register("links_list",{template:n.modules.links_list,render:function(){var e=this.model.get("data"),t=i.first(e),n={},r=t.pn_links||e;this.model.get("type")==="propertynav"?n=t.title:n=this.model.get("title");var s=i.extend({linkTitle:n,linkData:r,section_class:r[0].section_class},this.model.get("translations"),this.model);this.$el.html(this.template.render(s,{}))},ready:function(){this.$("ul.links-list a").each(function(){r(this).closest("li").toggleClass("active",s(this.href)===s(e.location.href))})}})}(this),Whiskers("modules.play",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,1093,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound"> <div class="game_wrapper"> <div class="bun_game '),n.b(n.v(n.f("createClass",e,t,0))),n.b('"> <div id="game_container_outer" class="inverted"> <noscript> <div class="player_error">'),n.b(n.v(n.f("no_javascript",e,t,0))),n.b('</div> </noscript> <div itemscope itemtype="http://schema.org/WebApplication"> <meta itemprop="name" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="description" content="'),n.b(n.v(n.f("desc",e,t,0))),n.b('"> <meta itemprop="url" content="'),n.b(n.v(n.f("href",e,t,0))),n.b('"> <meta itemprop="image" content="'),n.b(n.v(n.f("square",e,t,0))),n.b('"> <meta itemprop="applicationCategory" content="'),n.b(n.v(n.f("type",e,t,0))),n.b('"> <meta itemprop="applicationSubCategory" content="'),n.b(n.v(n.f("genres",e,t,0))),n.b(" "),n.b(n.v(n.f("type",e,t,0))),n.b('"> <div id="game_container" class="inverted"> <div id=\'StarWarsGame-'),n.b(n.v(n.f("id",e,t,0))),n.b("' contentid='"),n.b(n.v(n.f("id",e,t,0))),n.b('\'></div> </div> <div class="game_container_too_small"> <div class="orphan"><p>'),n.b(n.v(n.f("too_small",e,t,0))),n.b('</p></div> </div> <div class="iOS"> <div class="orphan"><p>'),n.b(n.v(n.f("ios",e,t,0))),n.b('</p></div> </div> <div class="flashNotPresent"> <div class="orphan"><p>'),n.b(n.v(n.f("no_flash",e,t,0))),n.b('</p></div> </div> </div> </div> </div> </div> <div class="content-metadata-container"> <div class="bedazzlement"></div> '),n.b(' <div id="meta"></div> </div> </div> ')}),e.pop()),r.fl()}),Whiskers("modules.shared_components.content_metadata",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div id="toolbar"> <div id="metadata"> <div class="module_body"> <div class="contentarea col-container"> <div class="content"> <div class="item"> <div class="productlink"> <h1>'),r.b(r.v(r.f("title",e,t,0))),r.b("</h1> "),r.s(r.f("contentMetadataTitleLink",e,t,1),e,t,0,220,253,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a> ")}),e.pop()),r.b(' </div> <p itemprop="description">'),r.b(r.v(r.f("description",e,t,0))),r.b(r.v(r.f("rating",e,t,0))),r.b('</p> </div> </div> </div> </div> </div> </div> <ul id="social-share-links"'),r.s(r.f("linksInverted",e,t,1),e,t,0,433,450,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' class="inverted"')}),e.pop()),r.b("> "),r.b(r.rp("socialShare",e,t,"")),r.b(" "),r.s(r.f("shareUtility",e,t,1),e,t,0,504,521,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("shareUtility",e,t,""))}),e.pop()),r.b(" </ul>"),r.fl()}),Whiskers("modules.shared_components.share_utility",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<li class="social-dropdown-btn '),r.b(r.v(r.f("share_type",e,t,0))),r.b('"> <div class="label" role="button">'),r.b(r.v(r.f("share_text",e,t,0))),r.b('</div> <!-- dropdown area --> <div class="dropdown-panel"> <span class="dropdown-label">'),r.b(r.v(r.f("output_label",e,t,0))),r.b(':</span> <textarea rows="1" class="text-output"></textarea> </div> </li>'),r.fl()}),function(e){"use strict";var t=e.jQuery,n=e.document,r=e.Tracker;t(function(){var i=e.location;t(n).on("click",".social-dropdown-btn .label",function(){var n=t(this).closest(".social-dropdown-btn"),s=function(e){var n=t(e).closest('div[itemprop="video"]').find('meta[itemprop="embedId"]').attr("content"),r=t(e).closest(".module.watch").find('meta[itemprop="title"]').attr("content"),s="http://"+i.host+"/embed/"+n;t(e).find(".text-output").text('<iframe width="560" height="315" src="'+s+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+i.href+'">'+r+" on Star Wars Video</a>")},o=function(e){t(e).removeClass("active"),t("body").off("click.watch"),t(e).hasClass("active")&&(t(e).removeClass("active"),u(e))},u=function(n){r&&r.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t(n).hasClass("share")?t(n).find(".text-output").text(i.href):t(n).hasClass("embed")&&s(n),t(n).addClass("active"),t("body").on("click.watch",function(e){var r=t(e.target);r.closest(".dropdown-panel").length===0&&r.closest(".social-dropdown-btn").length===0&&o(n)})};n.hasClass("active")?o(n):(t.each(t(".social-dropdown-btn.active"),function(e,t){o(t)}),i=e.location,u(n))});var s=t(".dropdown-panel");t(n).on("click",s,function(){t(this).find(".text-output").select()})})}(this),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.jQuery,i=e._,s=e.Whiskers,o=e.Tracker;t.ContentMetadataView=n.View.extend({socialShare:{facebook:{facebook_like:!1,facebook_share:!0},twitter:!0,g_plus:!0},initialize:function(e){this.options=e||{},this.render(),this.init()},render:function(){var e=i.extend({shareUtility:this.options.shareUtility,socialShare:this.socialShare},this.model.get("data")[0]);this.$el.html(s.modules.shared_components.content_metadata.render(e,{socialShare:s.modules.shared_components.social_share,shareUtility:s.modules.shared_components.share_utility}))},init:function(){var n=this;n.$(".share-embed-btn").on("click",function(){var t=function(){n.$("#share_embed").removeClass("active"),r("body").off("click.watch"),n.$("#share_link").hasClass("active")&&(n.$("#share_link").removeClass("active"),i())},i=function(){o&&o.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),n.$("#share_embed").addClass("active"),r("body").on("click.watch",function(e){var n=r(e.target);n.closest("#share_embed").length===0&&n.closest(".share-embed-btn").length===0&&t()})};n.$("#sharing .active").length?t():i()}),n.$(".share-link-btn").on("click",function(){var t=function(){n.$("#share_link").removeClass("active"),r("body").off("click.watch"),n.$("#share_embed").hasClass("active")&&(n.$("#share_embed").removeClass("active"),i())},i=function(){o&&o.event({eventCategory:"socialelement",action:"share",label:e.location.href}),n.$("#share_link").addClass("active"),r("body").on("click.watch",function(e){var n=r(e.target);n.closest("#share_link").length===0&&n.closest(".share-link-btn").length===0&&t()})};n.$("#sharing .active").length?t():i()});var s=r("#share_embed");r(".code",s).on("click",function(){r(this).select()});var u=r("#share_link");r(".link",u).on("click",function(){r(this).select()});var a=i.first(this.model.get("data")),f=e.location,l="http://"+f.host+"/embed/"+a.id;n.$("#share_embed .code").text('<iframe width="560" height="315" src="'+l+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+f.href+'">'+a.title+" on Disney Video</a>"),n.$(".quick_link input[type=text]").val(f.href);if(this.socialShare){var c=this.socialShare;c.facebook&&t.Social.init("facebook"),c.twitter&&t.Social.init("twitter"),c.g_plus&&t.Social.init("google")}},remove:function(){r("body").off("click.watch");var e=r("#share_embed"),t=r("#share_link");r(".code",e).off("click"),r(".link",t).off("click"),r("#sharing").appendTo("body").remove()}})}(this),function(){function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function f(n,r,i){if(u.isSupported(r.version))n.innerHTML=u.getHTML(r,i);else if(r.expressInstall&&u.isSupported([6,65]))n.innerHTML=u.getHTML(s(r,{src:r.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{n.innerHTML.replace(/\s/g,"")||(n.innerHTML="<h2>Flash version "+r.version+" or greater is required</h2>"+"<h3>"+(a[0]>0?"Your version is "+a:"You have no flash plugin installed")+"</h3>"+(n.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+t+"'>here</a></p>"),n.tagName=="A"&&(n.onclick=function(){location.href=t}));if(r.onFail){var o=r.onFail.call(this);typeof o=="string"&&(n.innerHTML=o)}}e&&(window[r.id]=document.getElementById(r.id)),s(this,{getRoot:function(){return n},getOptions:function(){return r},getConf:function(){return i},getApi:function(){return n.firstChild}})}var e=document.all,t="http://www.adobe.com/go/getflashplayer",n=typeof jQuery=="function",r=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,i={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(e,t,n){typeof e=="string"&&(e=document.getElementById(e.replace("#","")));if(!e)return;return typeof t=="string"&&(t={src:t}),new f(e,s(s({},i),t),n)};var u=s(window.flashembed,{conf:i,getVersion:function(){var e,t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e&&e.GetVariable("$version")}catch(i){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=e&&e.GetVariable("$version")}catch(s){}}}return t=r.exec(t),t?[t[1],t[3]]:[0,0]},asString:function(e){if(e===null||e===undefined)return null;var t=typeof e;t=="object"&&e.push&&(t="array");switch(t){case"string":return e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1"),e=e.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+e+'"';case"array":return"["+o(e,function(e){return u.asString(e)}).join(",")+"]";case"function":return'"function()"';case"object":var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push('"'+r+'":'+u.asString(e[r]));return"{"+n.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,n){t=s({},t);var r='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';t.cachebusting&&(t.src+=(t.src.indexOf("?")!=-1?"&":"?")+Math.random()),t.w3c||!e?r+=' data="'+t.src+'" type="application/x-shockwave-flash"':r+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',r+=">";if(t.w3c||e)r+='<param name="movie" value="'+t.src+'" />';t.width=t.height=t.id=t.w3c=t.src=null,t.onFail=t.version=t.expressInstall=null;for(var i in t)t[i]&&(r+='<param name="'+i+'" value="'+t[i]+'" />');var o="";if(n){for(var a in n)if(n[a]){var f=n[a];o+=a+"="+encodeURIComponent(/function|object/.test(typeof f)?u.asString(f):f)+"&"}o=o.slice(0,-1),r+='<param name="flashvars" value=\''+o+"' />"}return r+="</object>",r},isSupported:function(e){return a[0]>e[0]||a[0]==e[0]&&a[1]>=e[1]}}),a=u.getVersion();n&&(jQuery.tools=jQuery.tools||{version:"@VERSION"},jQuery.tools.flashembed={conf:i},jQuery.fn.flashembed=function(e,t){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,e,t))})})}(),function(e){"use strict";var t=e.Modernizr,n=e.flashembed,r=[11,0];t.addTest({multi_input:function(){return e.navigator.maxTouchPoints>0||e.navigator.msMaxTouchPoints>0},mobile:function(){var t=e.navigator.userAgent||e.navigator.vendor||e.window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((e.navigator.userAgent||e.navigator.vendor||e.window.opera).substr(0,4))},flash:function(){return n.isSupported(r)},ios:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)},android:function(){return e.navigator.userAgent.match(/(android)/i)},kindle:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)},scrolling_text:function(){return t.csstransitions&&t.canvas}})}(this),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=[n.midHigh,n.max],i=e.Grill,s=e.Backbone,o=e.Modernizr,u=e._,a=e.Whiskers,f=!1,l=!1,c=!1,h=null,p=function(t){var n=e.onerror,r=e.console;r&&r.error&&r.error(t.stack||t.toString()),n&&n(t.toString())};i.ModuleView.register("play",{breakpoints:r.join(" "),template:a.modules.play,tabletSize:768,isMobile:o.mobile,assets:{scripts:["//a.dilcdn.com/sw/disneygames-debug-1ede63da6fa7.js"]},render:function(){var t=u.first(this.model.get("data"));this.gameType=t.game_type,this.gameData={wmode:"transparent"},e.disneyGames.processConfig(t.game_data,this.gameData);var n=u.extend({},this.model.get("translations"),this.model);this.$el.html(this.template.render(n))},hideAllMessages:function(){this.$(".flashNotPresent").hide(),this.$(".game_container_too_small").hide(),this.$(".create_container_too_small").hide(),this.$(".iOS").hide()},resize:function(){if(c)return this.$(".flashNotPresent").hide(),this.$(".game_container_too_small").hide(),this.$(".create_container_too_small").hide(),this.$(".bun_game").addClass("error_holder"),this.$(".iOS").show(),null;this.$(".iOS").hide(),l?(this.$(".bun_game").addClass("error_holder"),this.$(".flashNotPresent").show(),this.$(".game_container_too_small").hide(),this.$(".create_container_too_small").hide()):this.isMobile||(this.$(".flashNotPresent").hide(),this.handleGameContainerShowHide(s.Resize.width()>=this.tabletSize))},handleGameContainerShowHide:function(t){var n=e.disneyGames;t?(f===!1?this.loadGameContainer():n.showGame(),this.$("#game_container").show(),this.$(".bun_game").removeClass("error_holder"),this.$(".game_container_too_small").hide()):(this.$(".bun_game").addClass("error_holder"),this.$(".game_container_too_small").show(),f===!0&&n.hideGame(),this.$("#game_container").hide())},loadGameContainer:function(){var t=e.disneyGames,n=this.model.get("data")[0].id;f=!0,e.disneyGamesCommunication.addMessageListener(u.bind(this.handleMessage,this));var r={elementId:"StarWarsGame-"+n,contentId:this.getContentId(),gameData:this.gameData,iframePath:"/games/syndication/iframeGame.html"};t.addGame(r)},getContentId:function(){var e;return this.model.get("data")[0].go_pub_id?e=this.model.get("data")[0].go_pub_id:e=this.model.get("data")[0].id,e},handleMessage:function(t){var n=e.disneyGames;switch(t){case"startGame":s.Resize.width()<=this.tabletSize&&!this.isMobile&&h.resize();break;case"unsupportedDevice":c=!0,h.resize(),this.$("#game_container").hide(),f===!0&&n.hideGame();break;case"flashFailed":l=!0,h.resize(),this.$("#game_container").hide(),f===!0&&n.hideGame();break;case"HTML5Works":this.$(".bun_game").css("padding","0");break;default:}},ready:function(){var e=this,n=e.model.get("translations");h=e,l=!1,c=!1,new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:[{share_type:"share",share_text:n.share,output_label:n.quick_link}]}),f===!1&&this.loadGameContainer(),this.hideAllMessages(),this.resize()},remove:function(){try{e.disneyGamesCommunication.clearMessageListeners()}catch(t){p(t)}try{e.disneyGames.removeGame()}catch(t){p(t)}i.BunView.prototype.remove.call(this),f=!1}})}(this),Whiskers("modules.rich_image",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("image",e,t,1),e,t,0,10,238,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,91,194,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" title="'),n.b(n.v(n.f("title",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,160,176,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop()),n.b(' <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"> </a> </div> ')}),e.pop()),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=n.midHigh.toString(),i=e.Grill,s=e.Whiskers,o=e.Backbone,u=e._,a=e.devicePixelRatio>1.5;i.ModuleView.register("rich_image",{breakpoints:r,className:"module full-height",template:s.modules.rich_image,render:function(){var e=o.Resize.width()>=n.midHigh,t=this,r=u.first(this.model.get("data")),i=t.model.get("style").images.foreground_image,f=null;if(i){var l=a?i.retina_url?i.retina_url:i.url:i.url,c=a?i.mobile_retina_url?i.mobile_retina_url:i.mobile_url?i.mobile_url:null:i.mobile_url?i.mobile_url:null;f=e?l:c}var h=u.extend({image:f?f:null,data:r?r:null},this.model);this.$el.html(this.template.render(h,{module_header:s.modules.shared_components.module_header}))},resize:function(){this.render()}})}(this),Whiskers("modules.rich_text",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(' <div class="rich_text_container"> '),r.s(r.f("image",e,t,1),e,t,0,115,189,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="rich_text_image '),n.b(n.v(n.f("alignment",e,t,0))),n.b('_align"><img src="'),n.b(n.v(n.f("url",e,t,0))),n.b('"></div>')}),e.pop()),r.b(" "),r.s(r.f("rich_text",e,t,1),e,t,0,214,315,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="rich_text_body'),n.s(n.f("image",e,t,1),e,t,0,251,281,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" has-image "),n.b(n.v(n.f("alignment",e,t,0))),n.b("_align")}),e.pop()),n.b('">'),n.b(n.t(n.f("rich_text",e,t,0))),n.b("</div> ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e._;t.ModuleView.register("rich_text",{template:n.modules.rich_text,render:function(){var e=this.model.get("style").images.foreground_image,t=r.extend({image:e},this.model);this.$el.html(this.template.render(t,{module_header:n.modules.shared_components.module_header}))}})}(this),Whiskers("modules.search",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <div class="bound"> <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),r.b(r.v(r.f("placeholder",e,t,0))),r.b('" spellcheck="false" autocorrect="off" autocapitalize="off"> '),r.s(r.f("filter",e,t,1),e,t,0,353,420,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <input type="hidden" value="'),n.b(n.v(n.f("filter",e,t,0))),n.b('" name="f[search_section]"> ')}),e.pop()),r.b(' <span class="search-button"> <input class="large button" type="submit" value="'),r.b(r.v(r.d("translations.search",e,t,0))),r.b('"> </span> </div> </form> </div>'),r.fl()}),function(e){"use strict";function o(){return e.window.location.pathname.split("/")[1]}var t=e.Grill,n=e.NAV,r=e.Tracker,i=e.jQuery,s=e._;t.ModuleView.register("search",{template:e.Whiskers.modules.search,initialize:function(){var e=this.model,t=e.get("title"),n=e.get("translations")||{},r=n.search||"search",i=o();this.placeholder_text=t?r+" "+t:n.sw_placeholder;if(i&&i!=="search"){var s=i.charAt(0).toUpperCase()+i.substring(1).toLowerCase();e.set("filter",s)}},ready:function(){n&&n.ac(this.el,"section/search_module")},render:function(){var e=this,t=s.extend({placeholder:e.placeholder_text},e.model);e.$el.html(e.template.render(t))},events:{"click a":function(e){var t=i(e.currentTarget),n=t.attr("href");e.target.nodeName.toLowerCase()==="img"&&(t=i(e.target)),r.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:n})},"click input[name=q]":function(e){e.target.placeholder=""},"blur input[name=q]":function(e){e.target.placeholder=this.placeholder_text},"onfocus input[name=q]":function(e){e.target.placeholder=""},"submit form.mod-search":function(){var e=o();r.link({linkName:e+"/searchbox/search_enter",linkPosition:e+"/searchbox"})}}})}(this),Whiskers("modules.stats",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("data",e,t,1),e,t,0,29,420,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="stats-container cols-'),n.b(n.v(n.f("numCategories",e,t,0))),n.b('"> '),n.s(n.f("categories",e,t,1),e,t,0,98,397,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="category'),n.s(n.f("linebreaks",e,t,1),e,t,0,134,145,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" linebreaks")}),e.pop()),n.b('"> <div class="heading">'),n.b(n.v(n.f("name",e,t,0))),n.b("</div> <ul> "),n.s(n.f("properties",e,t,1),e,t,0,219,368,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li class="data"> '),n.s(n.f("link",e,t,1),e,t,0,247,288,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a class="section-color" href="'),n.b(n.v(n.f("link",e,t,0))),n.b('">')}),e.pop()),n.b(" "),n.b(n.v(n.f("name",e,t,0))),n.b('<span class="separator">,</span> '),n.s(n.f("link",e,t,1),e,t,0,348,352,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b(" </li> ")}),e.pop()),n.b(" </ul> </div> ")}),e.pop()),n.b(" </div> ")}),e.pop()),r.b(" </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=n.midHigh.toString(),i=e.Grill,s=e.Whiskers,o=e._;i.ModuleView.register("stats",{breakpoints:r,template:s.modules.stats,render:function(){var e=o.first(this.model.get("data")),t=e.categories,n=o.extend({numCategories:t.length},this.model);this.$el.html(this.template.render(n,{}))}})}(this),Whiskers("modules.watch",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,2156,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div itemprop="video" itemscope itemtype="http://schema.org/VideoObject" class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler"></div> <div id="frame"> <!-- Orphan video markup --> <meta itemprop="duration" content="'),n.b(n.v(n.f("duration_iso",e,t,0))),n.b('"> <meta itemprop="thumbnail" content="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('"> <meta itemprop="name" content="'),n.b(n.v(n.f("title",e,t
,0))),n.b('"> <meta itemprop="embedId" content="'),n.b(n.v(n.f("id",e,t,0))),n.b('"> <meta itemprop="title" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="description" content="'),n.b(n.v(n.f("description",e,t,0))),n.b('"> <meta itemprop="URL" content="'),n.b(n.v(n.f("href",e,t,0))),n.b('"> '),n.s(n.f("embedURL",e,t,1),e,t,0,668,719,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <meta itemprop="embedURL" content="'),n.b(n.v(n.f("embedURL",e,t,0))),n.b('"> ')}),e.pop()),n.b(" "),n.s(n.f("expired",e,t,1),e,t,1,0,0,"")||(n.b(' <div id="player" class="player"> <noscript> <div class="player_error">'),n.b(n.v(n.d("translations.no_javascript",e,t,0))),n.b("</div> </noscript> </div> ")),n.b(" "),n.s(n.f("expired",e,t,1),e,t,0,897,962,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="orphan"><p>'),n.b(n.v(n.d("translations.video_expired",e,t,0))),n.b("</p></div> ")}),e.pop()),n.b(' <!-- /Orphan video markup --> <div id="card" class="card watch skip-styles"> <div class="card_header"> <div class="btn_replay"> <span class="button"> '),n.b(n.v(n.d("translations.replay_video",e,t,0))),n.b(' <div class="bedazzlement"></div> </span> </div> <p class="countdown_intro">'),n.b(n.v(n.d("translations.next_video_start",e,t,0))),n.b(' <span class="countdown">10</span><span class="autoplay">'),n.b(n.v(n.d("translations.autoplay_off",e,t,0))),n.b("</span></p> "),n.s(n.f("upNext",e,t,1),e,t,0,1372,1509,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="btn_next"> <a class="button" href="'),n.b(n.v(n.f("href",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.watch_next_video",e,t,0))),n.b(' <div class="bedazzlement"></div> </a> </div> ')}),e.pop()),n.b(' </div> <!-- USE this for the embed page and inline video player <div id="card" class="card embed skip-styles"> <div class="card_header"> <div class="bedazzlement"></div> <p class="btn_replay">'),n.b(n.v(n.d("translations.replay_video",e,t,0))),n.b('</p> <p class="btn_watch">Watch On </p> </div> --> <div class="suggested"> <ul> '),n.s(n.f("upNext",e,t,1),e,t,0,1833,1855,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<li> "),n.b(n.rp("entity",e,t,"")),n.b(" </li>")}),e.pop()),n.b(" "),n.s(n.f("suggested",e,t,1),e,t,0,1881,1903,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<li> "),n.b(n.rp("entity",e,t,"")),n.b(" </li>")}),e.pop()),n.b(' </ul> </div> </div> </div> </div> </div> <!-- End of video_wrapper --> <div class="content-metadata-container"> <div class="bedazzlement"></div> '),n.b(' <div id="meta"></div> </div> </div> </div> </div> </div> <!-- End --> ')}),e.pop()),r.fl()}),Whiskers("entities.video",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<!-- TODO This is pulled from matterhorn and needs to be set up for StarWars --> <a href="'),r.b(r.v(r.f("href",e,t,0))),r.b('"'),r.s(r.f("ping",e,t,1),e,t,0,108,129,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),r.b(' class="skip-styles"> <div class="thumb-box"><div class="aspect"> <img src="'),r.b(r.v(r.f("default_thumb",e,t,0))),r.b('" class="thumb" alt="'),r.b(r.v(r.f("title",e,t,0))),r.b('"> '),r.s(r.f("badge",e,t,1),e,t,0,274,316,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("badge",e,t,0))),n.b('" class="badge" alt="">')}),e.pop()),r.b(" "),r.s(r.f("duration",e,t,1),e,t,0,340,389,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="duration"><p>'),n.b(n.v(n.f("duration",e,t,0))),n.b("</p></div> ")}),e.pop()),r.b(' </div></div> <div class="thumb-title"> <h3 class="overlay-title" aria-hidden="true">'),r.b(r.v(r.f("title",e,t,0))),r.b("</h3> </div> </a>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e.flashembed,i=t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas},isFlashCapable:function(e){var t=e||i.MIN_FP_VERSION;return r.isSupported(t)},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)?!0:!1},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)?!0:!1},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)?!0:!1},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)?!0:!1},isIE8:function(){return n.browser.msie&&parseInt(n.browser.version,10)===8}}}(this),function(e){"use strict";var t=e.Disney,n=e.Grill,r=e._,i=e.jQuery,s=e.Whiskers,o=e.Math,u,a=e.sessionStorage,f=e.JSON;n.ModuleView.register("watch",{assets:{scripts:["//a.dilcdn.com/sw/videoplayer-9b5ba0b6a450.js"]},initialize:function(){var t=this;t.h=i(e).on("resize."+t.cid,r.throttle(function(){var n=i(e).height();n!==t.h&&(t.h=n,t.layout())},100)).height()},render:function(){var e=r.extend({tags:this.model.get("data")[0].tags,contenttype:this.model.get("data")[0].contenttype,upNext:this.upNext(),cds:!1,translations:this.model.get("translations")},this.model.toJSON());this.$el.html(s.modules.watch.render(e,{entity:s.entities.video})),u=e.data[0],this.layout()},ready:function(){var e=this,n=e.model.get("translations");new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:[{share_type:"embed",share_text:n.embed,output_label:n.embed},{share_type:"share",share_text:n.share,output_label:n.quick_link}]});var i=r.first(this.model.get("data"));this.player=new t.StarWarsVideoPlayer("player",{video:i,autoPlay:!0,clickToPlay:!1,showTitle:!1,showDuration:!0,ads:{enabled:!1},translations:this.model.get("translations")})},upNext:function(){var e=r.first(this.model.get("data")),t=a&&f.parse(a.getItem("videoHistoryOnDisneyVideo")||"[]"),n=e.next||[],i=[];r.each(n,function(e){i.push(e.id)});var s=r.first(r.difference(i,t)),o=r.find(n,function(e){return e.id===s});o||(o=r.first(n)),t.push(e.id),t.length>10&&t.shift();try{a.setItem("videoHistoryOnDisneyVideo",f.stringify(t))}catch(u){}return o},layout:function(){var e=o.ceil((this.h-120)/.5625),t=o.max(320,e),n=o.min(1024,t),r=this.$("#video_wrapper .bound");r.css("maxWidth",n)},remove:function(){this.player&&(this.player.destroy(),this.player=null),n.ModuleView.prototype.remove.call(this),i(e).off("resize."+this.cid)}})}(this);